{"id":".dotfiles-0fw","title":"Install mcp-neovim-server for Claude-Neovim integration","description":"## Goal\nEnable Claude Code to control and test Neovim directly via MCP, allowing real-time testing of Lua plugins/configs.\n\n## What to install\n**mcp-neovim-server** by bigcodegen\n- GitHub: https://github.com/bigcodegen/mcp-neovim-server\n- npm package for MCP server that connects to Neovim via socket\n- Uses official neovim/node-client library\n\n## Installation steps\n1. Install the npm package globally or in a dedicated location\n2. Configure Neovim to start with socket: `nvim --listen /tmp/nvim`\n   - Could add alias or modify existing nvim setup\n3. Add MCP server config to Claude Code's MCP settings (~/.claude/mcp.json or similar)\n4. Test connection with simple commands\n\n## Configuration needed\n- Environment variable: NVIM_SOCKET_PATH (default /tmp/nvim)\n- Optional: ALLOW_SHELL_COMMANDS=true for shell access\n\n## Available tools after setup (19 total)\n- Core: open file, execute command, get buffer content, modify buffer\n- Buffer management: list buffers, switch, close\n- Search/replace: pattern search, find/replace with options\n- Advanced: macros, tabs, folds, marks, registers\n\n## Success criteria\n- Claude can read current buffer content\n- Claude can execute Neovim commands\n- Claude can modify buffer text\n- Stable connection that survives nvim restarts\n\n## Notes\n- Requires Neovim started with --listen flag\n- May want to create shell alias: alias nvim='nvim --listen /tmp/nvim'\n- Or configure in zsh to always use socket","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T20:12:52.604908+02:00","created_by":"David Susskind","updated_at":"2026-01-27T20:27:50.191582+02:00","closed_at":"2026-01-27T20:27:50.191582+02:00","close_reason":"Closed"}
{"id":".dotfiles-0mu","title":"Parallelize bootstrap.sh: git clone and brew mise","description":"Run git clone and brew install mise in parallel after Homebrew is installed. Both are independent operations that can run concurrently before bun installation.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T15:40:09.506062+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:43:06.819123+02:00","closed_at":"2026-01-27T15:43:06.819123+02:00","close_reason":"Implemented parallelization with proper child process handling"}
{"id":".dotfiles-6gf","title":"Auto-open GUI apps after installation with instructions popup","description":"When a GUI app is installed from @installation/, automatically open it with `open` command. Also add ability to show a popup (via osascript or TypeScript) with app-specific instructions.\n\nExample: For Brave browser, show popup with: 'Enable View -\u003e Developer -\u003e Allow Javascript from Apple events. This is needed for the `inspect` command.'\n\nImplementation considerations:\n- Detect when GUI apps are installed\n- Use `open` command to launch them\n- Create popup mechanism (osascript or native TypeScript solution)\n- Maintain mapping of apps to their post-install instructions","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-27T14:24:06.841452+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:22:56.830522+02:00","closed_at":"2026-01-27T15:22:56.830522+02:00","close_reason":"Implemented both features"}
{"id":".dotfiles-7yw","title":"Migrate installation scripts to TypeScript (Bun)","description":"Migrate entire installation system to TypeScript with Bun runtime. Only bootstrap.sh remains in bash (needed for initial curl | bash setup on fresh machines).\n\nScripts to migrate to TypeScript (.sh → .ts):\n1. installation/install.sh - Main installation orchestrator\n2. installation/dependencies.sh - Handles mise/Homebrew dependencies\n3. installation/system.sh - System configuration\n4. installation/macos-defaults.sh - macOS defaults configuration\n5. installation/logging.sh - Logging utilities\n6. installation/verify.sh - Installation verification\n7. installation/test-install.sh - VM testing script\n8. installation/links.js - Already JavaScript, will be TypeScript\n\nFiles that stay as bash:\n- installation/bootstrap.sh (first-time setup, must be bash for curl | bash)\n\nDependencies:\n- Blocked by .dotfiles-tsw (need all JS→TS migration done first, including links.js)\n\nBenefits:\n- Type safety for installation logic\n- Better error handling\n- Easier to test and maintain\n- Consistent language across codebase\n- Bun's native TypeScript support = no build step\n\nTasks:\n1. Convert each .sh script to .ts\n2. Replace bash-specific logic with TypeScript/Bun equivalents\n3. Use Bun APIs for shell commands, file operations\n4. Update bootstrap.sh to call install.ts instead of install.sh\n5. Test installation end-to-end in VM","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T12:01:45.707192+02:00","created_by":"David Susskind","updated_at":"2026-01-26T19:41:40.857741+02:00","closed_at":"2026-01-26T19:41:40.857741+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-7yw","depends_on_id":".dotfiles-tsw","type":"blocks","created_at":"2026-01-26T12:01:55.284447+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-b7s","title":"Make test-install.ts flow fully automated","description":"Make @installation/test-install.ts more robust by automating the full installation flow instead of just printing instructions.\n\nCurrent behavior: printInstructions() at line 129 just prints manual steps.\n\nNew behavior:\n1. Run `tart run ` command to start the VM\n2. Poll SSH connection until successful (VM takes time to boot)\n   - Use: ssh admin@$(tart ip )\n   - Retry with backoff until connection succeeds\n3. Once connected, automatically run the bootstrap script:\n   - Command: /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/davidsu/dotfiles/master/installation/bootstrap.sh)\"\n4. Monitor installation progress and report results\n\nThis makes the test flow fully hands-off instead of requiring manual intervention.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T14:24:43.938741+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:22:56.85159+02:00","closed_at":"2026-01-27T15:22:56.85159+02:00","close_reason":"Implemented both features"}
{"id":".dotfiles-cm8","title":"Parallelize install.ts with explicit promise dependencies","description":"Refactor install.ts to run tasks in parallel using named promises:\n\nParallel batch:\n- symlinks\n- brew installs (split neovim separately)\n- mise install node\n- macOS defaults\n\nNeovim plugins start as soon as (symlinks + neovim) complete, while other tasks continue.\n\nPattern: explicit Promise.all([deps]).then() for clear dependency graph.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T15:40:10.369583+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:43:06.847202+02:00","closed_at":"2026-01-27T15:43:06.847202+02:00","close_reason":"Implemented parallelization with proper child process handling"}
{"id":".dotfiles-ir5","title":"Test Beads setup - verify it works correctly","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:28:35.533116+02:00","created_by":"David Susskind","updated_at":"2026-01-26T11:28:48.260923+02:00","closed_at":"2026-01-26T11:28:48.260923+02:00","close_reason":"Closed"}
{"id":".dotfiles-kt4","title":"Migrate preview.sh and rbw*.js to TypeScript","description":"Migrate shell and JavaScript scripts in bin/ folder to TypeScript with Bun runtime, consistent with the installation scripts migration.\n\nFiles to migrate:\n- bin/preview.sh → preview.ts\n- bin/rbw*.js → rbw*.ts (all rbw-related JavaScript files)\n\nFollow cleanCode and cleanTypes principles.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T20:29:16.46124+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:03:35.759533+02:00","closed_at":"2026-01-27T15:03:35.759533+02:00","close_reason":"Migrated preview.sh and rbw*.js to TypeScript with Bun runtime"}
{"id":".dotfiles-m33","title":"Create commit-diff.lua - Fugitive-style UI for comparing commits","description":"## Problem\nFugitive's :Git status window is amazing for reviewing changes - you see a file list, press 'dd' to open a diff split. But it only works for working tree state (staged/unstaged changes), NOT for comparing two arbitrary commits.\n\nCurrent workaround in zsh (gdc function) is hacky:\n- Requires clean worktree\n- Creates temp branch, resets git state, opens fugitive, cleans up\n- Fragile - can leave cruft if nvim crashes\n- Modifies git state temporarily\n\n## Solution\nCreate a native Neovim Lua plugin that provides a Fugitive-like UI for comparing any two commits.\n\n## File location\n`~/.config/nvim/lua/utils/commit-diff.lua`\n\n## Implementation plan\n\n### 1. Create scratch buffer with file list\n- Run: `git diff --name-status \u003ccommit1\u003e \u003ccommit2\u003e`\n- Parse output into buffer lines showing: status (M/A/D) + filepath\n- Set buffer options: buftype=nofile, bufhidden=wipe, noswapfile\n\n### 2. Store commit refs in buffer-local variables\n- `vim.b.commit_earlier` and `vim.b.commit_later`\n- Used by keymaps to construct Fugitive object paths\n\n### 3. Implement keymaps (buffer-local)\n- `dd` - Open vertical diff split\n  - Left: `:Gedit \u003cearlier\u003e:\u003cfilepath\u003e`\n  - Right: `:Gdiffsplit \u003clater\u003e:\u003cfilepath\u003e`\n- `\u003cCR\u003e` - Open file at later commit: `:Gedit \u003clater\u003e:\u003cfilepath\u003e`\n- `o` - Open in horizontal split\n- `q` - Close the buffer\n\n### 4. Create user command\n`:Gdc \u003ccommit1\u003e \u003ccommit2\u003e`\n- Auto-detect which commit is earlier by comparing timestamps\n- Validate both commits exist\n- Open the comparison buffer\n\n### 5. Handle edge cases\n- Commits in any order (auto-sort by timestamp)\n- Invalid commit refs (show error)\n- Binary files (mark as binary, skip diff)\n- Renamed files (git diff -M shows renames)\n\n## Example usage\n```vim\n:Gdc HEAD~5 HEAD       \" Compare last 5 commits\n:Gdc abc123 def456     \" Compare two specific commits  \n:Gdc main feature      \" Compare branches\n```\n\n## Key insight\nFugitive already handles viewing files at specific commits via :Gedit and :Gdiffsplit.\nWe just need to build the file-list UI that constructs the right Fugitive object paths.\n\nExample Fugitive object: `abc123:src/foo.lua` opens that file at that commit.\n\n## Delete the zsh workaround after\nRemove gdc() function from zsh/sources/git.zsh once this works.\nKeep gsv() for working tree status (different use case).\n\n## Testing approach\nWith mcp-neovim-server installed, Claude can:\n1. Source the lua file\n2. Run the command\n3. Verify buffer contents\n4. Test keymaps\n5. Iterate on bugs in real-time","status":"in_progress","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-27T20:13:10.228431+02:00","created_by":"David Susskind","updated_at":"2026-01-27T20:28:30.18648+02:00","dependencies":[{"issue_id":".dotfiles-m33","depends_on_id":".dotfiles-0fw","type":"blocks","created_at":"2026-01-27T20:13:36.499648+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-ogz","title":"Verify installation script changes thoroughly","description":"Thoroughly review and verify the modified installation files:\n\nFILES TO VERIFY:\n- installation/install.ts\n- installation/links.ts  \n- installation/verify.ts\n\nWHAT TO CHECK:\n1. Logic correctness - do the changes make sense?\n2. Error handling - are edge cases covered?\n3. Type safety - following cleanTypes principles?\n4. Integration - do the three files work together properly?\n5. User experience - clear messages, proper error reporting?\n6. Testing - should we test the bootstrap flow end-to-end?\n\nThis is blocked by .dotfiles-xq4 (bootstrap message improvements) since we want to verify everything together after those changes are complete.","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:56:01.292201+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:43:26.170456+02:00","closed_at":"2026-01-27T01:43:26.170456+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-ogz","depends_on_id":".dotfiles-xq4","type":"blocks","created_at":"2026-01-26T23:56:06.580379+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-q0a","title":"Fix TypeScript typing patterns in links.ts","description":"Refactor links.ts to use proper TypeScript typing patterns. Once complete, the file should demonstrate clean type usage that the user likes, and we'll extract lessons learned to improve the /cleanTypes skill.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:44:04.347599+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:32:34.933893+02:00","closed_at":"2026-01-27T01:32:34.933893+02:00","close_reason":"Closed"}
{"id":".dotfiles-tsw","title":"Migrate all JavaScript files to TypeScript","description":"Migrate all JavaScript files to TypeScript to improve type safety and maintainability. Bun supports TypeScript natively, so no build step needed.\n\nFiles to migrate:\n1. installation/links.js - Symlinking logic\n2. bin/inspect - Developer tool for opening devtools\n\nBoth files currently use #!/usr/bin/env node shebang which needs to change to #!/usr/bin/env bun.\n\nDependencies:\n- Blocked by .dotfiles-vyv (need Bun installed via mise first)\n\nTasks:\n1. Rename .js files to .ts\n2. Add TypeScript types\n3. Update shebangs from node to bun\n4. Test all scripts work with Bun runtime","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:52:27.037768+02:00","created_by":"David Susskind","updated_at":"2026-01-26T19:26:02.246949+02:00","closed_at":"2026-01-26T19:26:02.246949+02:00","close_reason":"Completed TypeScript migration: links.js → links.ts with types, bin/inspect converted to TypeScript with vim modeline, added global and project tsconfig.json, created cleanTypes skill","dependencies":[{"issue_id":".dotfiles-tsw","depends_on_id":".dotfiles-vyv","type":"blocks","created_at":"2026-01-26T11:53:07.628548+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-vyv","title":"Migrate from Node.js to Bun (via mise)","description":"Currently using Node.js for installation scripts and developer tools. Want to migrate to Bun for better performance and simpler runtime management through mise.\n\nFiles with Node.js shebangs (#!/usr/bin/env node):\n1. installation/links.js - Symlinking logic for dotfiles\n2. bin/inspect - Developer tool for opening devtools\n\nTasks:\n1. Add bun to mise config\n2. Update dependencies.sh to install bun via mise instead of Node.js\n3. Update shebangs from node to bun\n4. Verify both scripts work with bun runtime\n5. Update any documentation referencing Node.js\n6. Test installation script end-to-end","notes":"Dependency: Other tasks depend on this completing first (TypeScript migration needs Bun runtime)","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:40:56.220651+02:00","created_by":"David Susskind","updated_at":"2026-01-26T12:29:03.913691+02:00","closed_at":"2026-01-26T12:29:03.913691+02:00","close_reason":"Closed"}
{"id":".dotfiles-xq4","title":"Improve bootstrap completion messages","description":"Add a final summary section at the end of bootstrap that shows all important results at once.\n\nPROBLEM:\n- Important info (failed packages, symlink results) gets buried in scrollback\n- User has to scroll back to see what failed\n- Example: 'Some packages failed verification: tree-sitter, audiowhisper' appears at 21:18:54 but gets lost\n\nSOLUTION:\nAdd a final summary section that displays:\n\n1. **Symlink Results**\n   - Count of successfully created symlinks (green)\n   - List of failed symlinks if any (red)\n\n2. **Package Installation Results**\n   - If all succeeded: '✓ All brew packages installed successfully'\n   - If some failed: List the failed packages (red) with retry command\n\n3. **Manual Steps Reminder** (very last message)\n   - '============================================================'\n   - '  MANUAL STEPS REQUIRED - See README.md → Post-install manual steps'\n   - '============================================================'\n\nREMOVE:\n- The current 'Bootstrap complete\\!' box with numbered steps\n- The 'View README: cat ~/.dotfiles/README.md | less' line\n- Any other redundant messaging after the manual steps reminder\n\nThe summary should collect results during installation and display them all together at the end, so users don't need to scroll back to see what happened.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:52:10.601119+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:37:59.097707+02:00","closed_at":"2026-01-27T01:37:59.097707+02:00","close_reason":"Closed"}
