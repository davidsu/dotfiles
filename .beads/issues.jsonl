{"id":".dotfiles-0fw","title":"Install mcp-neovim-server for Claude-Neovim integration","description":"## Goal\nEnable Claude Code to control and test Neovim directly via MCP, allowing real-time testing of Lua plugins/configs.\n\n## What to install\n**mcp-neovim-server** by bigcodegen\n- GitHub: https://github.com/bigcodegen/mcp-neovim-server\n- npm package for MCP server that connects to Neovim via socket\n- Uses official neovim/node-client library\n\n## Installation steps\n1. Install the npm package globally or in a dedicated location\n2. Configure Neovim to start with socket: `nvim --listen /tmp/nvim`\n   - Could add alias or modify existing nvim setup\n3. Add MCP server config to Claude Code's MCP settings (~/.claude/mcp.json or similar)\n4. Test connection with simple commands\n\n## Configuration needed\n- Environment variable: NVIM_SOCKET_PATH (default /tmp/nvim)\n- Optional: ALLOW_SHELL_COMMANDS=true for shell access\n\n## Available tools after setup (19 total)\n- Core: open file, execute command, get buffer content, modify buffer\n- Buffer management: list buffers, switch, close\n- Search/replace: pattern search, find/replace with options\n- Advanced: macros, tabs, folds, marks, registers\n\n## Success criteria\n- Claude can read current buffer content\n- Claude can execute Neovim commands\n- Claude can modify buffer text\n- Stable connection that survives nvim restarts\n\n## Notes\n- Requires Neovim started with --listen flag\n- May want to create shell alias: alias nvim='nvim --listen /tmp/nvim'\n- Or configure in zsh to always use socket","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T20:12:52.604908+02:00","created_by":"David Susskind","updated_at":"2026-01-27T20:27:50.191582+02:00","closed_at":"2026-01-27T20:27:50.191582+02:00","close_reason":"Closed"}
{"id":".dotfiles-0mu","title":"Parallelize bootstrap.sh: git clone and brew mise","description":"Run git clone and brew install mise in parallel after Homebrew is installed. Both are independent operations that can run concurrently before bun installation.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T15:40:09.506062+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:43:06.819123+02:00","closed_at":"2026-01-27T15:43:06.819123+02:00","close_reason":"Implemented parallelization with proper child process handling"}
{"id":".dotfiles-0tg","title":"Install snacks.nvim image for mermaid rendering","status":"closed","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T22:55:50.377411+02:00","created_by":"David Susskind","updated_at":"2026-02-06T22:56:43.037604+02:00","closed_at":"2026-02-06T22:56:43.037604+02:00","close_reason":"Closed"}
{"id":".dotfiles-1am","title":"Refactor file-history.lua to use panes module","description":"Refactor git/file-history.lua to use the panes module for consistent window management.\n\nChanges:\n- Replace manual window management with panes.show_list()\n- \u003cCR\u003e: Open file at commit in detail pane (use on_select + show_single_detail)\n- \u003cC-s\u003e: Open commit details in NEW TAB instead of vsplit\n- dd: Keep existing git.show_diff() pattern (already uses panes)\n- Remove close_existing_history_buffers() (panes handles this)\n\nFollow commit-diff.lua as reference implementation.\n\nFixes broken \u003cC-s\u003e functionality from commit b946940.","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-03T20:52:56.065396+02:00","created_by":"David Susskind","updated_at":"2026-02-03T21:07:55.214892+02:00","closed_at":"2026-02-03T21:07:55.214892+02:00","close_reason":"Closed"}
{"id":".dotfiles-1cw","title":"Add plenary tests for git/file-history","description":"Set up comprehensive testing for GitFileHistory using plenary.nvim.\n\n**Test coverage needed:**\n1. Command execution for current buffer\n2. Buffer creation with git log output\n3. Keybinds (dd for diff, future ctrl+s for details)\n4. Handles non-git files gracefully\n5. Works with files that have history\n\n**Infrastructure needed:**\n- Create tests/git/file-history_spec.lua\n- **Reuse helper methods from diff-commits tests:**\n  - `create_temp_git_repo()` - creates temp dir, git init\n  - `add_test_commit(file, content)` - creates file and commits it  \n  - `cleanup_temp_repo()` - removes temp directory\n  - `open_file_in_buffer(path)` - opens file for testing\n\n**Test structure:**\n```lua\ndescribe('GitFileHistory', function()\n  local test_repo\n  \n  before_each(function()\n    test_repo = create_temp_git_repo()\n    add_test_commit('test.lua', 'v1')\n    add_test_commit('test.lua', 'v2')\n    add_test_commit('test.lua', 'v3')\n    open_file_in_buffer(test_repo .. '/test.lua')\n  end)\n  \n  after_each(function()\n    cleanup_temp_repo(test_repo)\n  end)\n  \n  it('shows commit history for current file', ...)\n  it('dd opens diff for selected commit', ...)\nend)\n```\n\n**Reference:**\n- Implementation: /Users/thistooshallpass/.dotfiles/DOTconfig.home.symlink/nvim/lua/git/file-history.lua\n- Test framework: plenary.nvim","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T13:03:57.429187+02:00","created_by":"David Susskind","updated_at":"2026-02-10T16:07:28.999811+02:00","closed_at":"2026-02-10T16:07:28.999811+02:00","close_reason":"Added 19 plenary tests covering commands, buffer content, window management, keybinds, fugitive integration, and error handling"}
{"id":".dotfiles-1li","title":"Split tools.ts into focused modules","description":"tools.ts is ~400 lines. Split into:\n- tools/brew.ts (brew install logic)\n- tools/native.ts (native tool install)\n- tools/types.ts (Tool discriminated union types)\n- tools/loader.ts (YAML loading)\n- tools/index.ts (exports)\n\nKeep each module under 150 lines, single responsibility.","status":"open","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T23:17:00.687045+02:00","created_by":"David Susskind","updated_at":"2026-01-28T23:17:00.687045+02:00"}
{"id":".dotfiles-2rx","title":"GitDiffCommits: clarify or remove confusing 'o' keybind","description":"The `o` keybind in GitDiffCommits buffer is confusing and its purpose is unclear.\n\n**Problem:**\n- `o` keybind exists but its function/purpose makes no sense\n- No clear documentation of what it does\n- Likely leftover from copy-paste or experimentation\n\n**Action needed:**\nEither:\n1. **Remove it** - if it's not useful/doesn't work properly\n2. **Document it** - if it has a valid purpose, add help text explaining what it does\n\n**Implementation location:**\n- /Users/thistooshallpass/.dotfiles/DOTconfig.home.symlink/nvim/lua/git/diff-commits.lua\n\n**Investigation needed:**\n- What does `o` currently do in the GitDiffCommits buffer?\n- Is it functional or broken?\n- Was it intended for something specific?","status":"open","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T12:46:29.495836+02:00","created_by":"David Susskind","updated_at":"2026-01-28T12:46:29.495836+02:00"}
{"id":".dotfiles-32j","title":"cleanCode: instruct agent MUST load /cleanCode:neovim if working with Lua","status":"open","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T02:43:29.664847+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:23:48.544125+02:00"}
{"id":".dotfiles-543","title":"Add working tree support to GitDiffCommits","description":"The original GDiffBranch compared working tree (dirty filesystem) against a branch using 'git diff \u003cbranch\u003e'.\n\nCurrent gdc() only supports commit-to-commit comparison using 'git diff \u003ccommit1\u003e \u003ccommit2\u003e', which ignores uncommitted changes.\n\nImplementation needs:\n1. Accept special marker (e.g., 'WORKTREE' or nil) for one commit\n2. Run 'git diff \u003ccommit\u003e' (one arg) when comparing to working tree\n3. Handle working tree status differently in UI\n4. Test with dirty working tree\n\nRelated to temporary implementation in commit-diff.lua GDiffBranch command.","notes":"## Research Findings\n\n### Fugitive's :Gdiffsplit\n\nFrom `:help fugitive`:\n\n```\n:Gdiffsplit [object]    Perform a |vimdiff| against the given file, or if a\n                        commit is given, the current file in that commit.\n                        With no argument, the version in the index or work\n                        tree is used, and the work tree version is always\n                        placed to the right or bottom.\n```\n\n**Key insight**: `:Gdiffsplit \u003ccommit\u003e` on a working tree file automatically diffs:\n- Left: file at \u003ccommit\u003e\n- Right: current working tree version\n\nThis simplifies implementation significantly - no need to build custom fugitive paths for working tree files.\n\n### Implementation Plan\n\n1. Modify `parse_commits` to return nil for second commit when only one arg\n2. Create `get_changed_files_worktree(commit)` using `git diff --name-status \u003ccommit\u003e`\n3. Modify `gdc()` to detect working tree mode (second arg is nil)\n4. In working tree mode:\n   - `on_select`: open actual file path (not fugitive path)\n   - `dd` keymap: use `:Gdiffsplit \u003ccommit\u003e` instead of custom diff\n5. Update header to show \"WORKTREE\" instead of commit sha","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-02T00:18:59.736482+02:00","created_by":"David Susskind","updated_at":"2026-02-04T21:39:21.235118+02:00","closed_at":"2026-02-04T21:39:21.235118+02:00","close_reason":"Implemented working tree support. Single arg compares to worktree. GDiffBranch now alias to Gdc."}
{"id":".dotfiles-5tc","title":"Add plenary tests for git/diff-commits","description":"Set up comprehensive testing for GitDiffCommits using plenary.nvim.\n\n**Test coverage needed:**\n1. Command parsing (single vs two arguments)\n2. Buffer creation and content\n3. Keybinds (dd, o, q)\n4. Git integration with known commits\n5. Error handling (invalid commits, not in git repo)\n\n**Infrastructure needed:**\n- Install plenary.nvim as dev dependency\n- Create tests/git/diff-commits_spec.lua\n- **Helper methods for test fixtures:**\n  - `create_temp_git_repo()` - creates temp dir, git init\n  - `add_test_commit(file, content)` - creates file and commits it\n  - `cleanup_temp_repo()` - removes temp directory\n  - These helpers will be reused across all git-related tests\n\n**Test structure:**\n```lua\ndescribe('GitDiffCommits', function()\n  local test_repo\n  \n  before_each(function()\n    test_repo = create_temp_git_repo()\n    add_test_commit('file1.txt', 'initial')\n    add_test_commit('file2.txt', 'second')\n  end)\n  \n  after_each(function()\n    cleanup_temp_repo(test_repo)\n  end)\n  \n  it('parses single argument as commit vs HEAD', ...)\n  it('creates buffer with file list', ...)\nend)\n```\n\n**Reference:**\n- Implementation: /Users/thistooshallpass/.dotfiles/DOTconfig.home.symlink/nvim/lua/git/diff-commits.lua\n- Test framework: plenary.nvim","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T13:03:57.091506+02:00","created_by":"David Susskind","updated_at":"2026-02-03T15:25:29.853417+02:00","closed_at":"2026-02-03T15:25:29.853417+02:00","close_reason":"Closed"}
{"id":".dotfiles-6gf","title":"Auto-open GUI apps after installation with instructions popup","description":"When a GUI app is installed from @installation/, automatically open it with `open` command. Also add ability to show a popup (via osascript or TypeScript) with app-specific instructions.\n\nExample: For Brave browser, show popup with: 'Enable View -\u003e Developer -\u003e Allow Javascript from Apple events. This is needed for the `inspect` command.'\n\nImplementation considerations:\n- Detect when GUI apps are installed\n- Use `open` command to launch them\n- Create popup mechanism (osascript or native TypeScript solution)\n- Maintain mapping of apps to their post-install instructions","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-27T14:24:06.841452+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:22:56.830522+02:00","closed_at":"2026-01-27T15:22:56.830522+02:00","close_reason":"Implemented both features"}
{"id":".dotfiles-6ui","title":"GitDiffCommits: support single argument, assume HEAD as second commit","description":"Make GitDiffCommits more ergonomic by allowing single argument syntax.\n\n**Current behavior:**\n- Requires two arguments: `:GitDiffCommits HEAD~2 HEAD`\n- Verbose when comparing against HEAD\n\n**Desired behavior:**\n- `:GitDiffCommits HEAD~2` → compares HEAD~2 to HEAD\n- If only one argument provided, assume second is HEAD\n- Still support two-argument form: `:GitDiffCommits HEAD~5 HEAD~2`\n\n**Examples:**\n- `GitDiffCommits HEAD~2` = compare HEAD~2 vs HEAD\n- `GitDiffCommits main` = compare main vs HEAD\n- `GitDiffCommits abc123` = compare abc123 vs HEAD\n- `GitDiffCommits HEAD~5 HEAD~2` = compare HEAD~5 vs HEAD~2 (explicit)\n\n**Implementation location:**\n- Current: /Users/thistooshallpass/.dotfiles/DOTconfig.home.symlink/nvim/lua/git/diff-commits.lua","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-28T12:44:42.119563+02:00","created_by":"David Susskind","updated_at":"2026-02-03T15:33:51.942891+02:00","closed_at":"2026-02-03T15:33:51.942891+02:00","close_reason":"Already implemented - single arg defaults to HEAD"}
{"id":".dotfiles-7yw","title":"Migrate installation scripts to TypeScript (Bun)","description":"Migrate entire installation system to TypeScript with Bun runtime. Only bootstrap.sh remains in bash (needed for initial curl | bash setup on fresh machines).\n\nScripts to migrate to TypeScript (.sh → .ts):\n1. installation/install.sh - Main installation orchestrator\n2. installation/dependencies.sh - Handles mise/Homebrew dependencies\n3. installation/system.sh - System configuration\n4. installation/macos-defaults.sh - macOS defaults configuration\n5. installation/logging.sh - Logging utilities\n6. installation/verify.sh - Installation verification\n7. installation/test-install.sh - VM testing script\n8. installation/links.js - Already JavaScript, will be TypeScript\n\nFiles that stay as bash:\n- installation/bootstrap.sh (first-time setup, must be bash for curl | bash)\n\nDependencies:\n- Blocked by .dotfiles-tsw (need all JS→TS migration done first, including links.js)\n\nBenefits:\n- Type safety for installation logic\n- Better error handling\n- Easier to test and maintain\n- Consistent language across codebase\n- Bun's native TypeScript support = no build step\n\nTasks:\n1. Convert each .sh script to .ts\n2. Replace bash-specific logic with TypeScript/Bun equivalents\n3. Use Bun APIs for shell commands, file operations\n4. Update bootstrap.sh to call install.ts instead of install.sh\n5. Test installation end-to-end in VM","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T12:01:45.707192+02:00","created_by":"David Susskind","updated_at":"2026-01-26T19:41:40.857741+02:00","closed_at":"2026-01-26T19:41:40.857741+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-7yw","depends_on_id":".dotfiles-tsw","type":"blocks","created_at":"2026-01-26T12:01:55.284447+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-8kv","title":"Add file-history viewer (Gfh command)","description":"Create a file-history viewer similar to commit-diff utility.\n\nCommand: :Gfh (or :Glog for current file)\nRuns: git log --name-status {current_buffer_file}\n\nDisplay:\n- Output in scratch buffer matching terminal git log appearance\n- Syntax highlighting:\n  - commit \u003chash\u003e lines: yellow (gitcommit style)\n  - Author/Date: normal\n  - File status lines (M/A/D/R): same as commit-diff (gdcModified, gdcAdded, gdcDeleted)\n\nKeymaps:\n- dd: Show diff for the commit containing cursor line\n  - Finds current commit and next commit from parsed structure\n  - Calls open_diff(current_commit, next_commit) from commit-diff/ui.lua\n- \u003cCR\u003e: Open file at that commit\n- q: Close\n- g?: Help\n\nImplementation:\n- New directory: lua/utils/file-history/\n- Files: init.lua (command + git), ui.lua (buffer, syntax, keymaps)\n- Parse git log, build line-to-commit mapping for dd navigation\n- Reuse open_diff pattern from commit-diff\n\nReference: lua/utils/commit-diff/","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-28T02:16:08.701894+02:00","created_by":"David Susskind","updated_at":"2026-01-28T02:20:16.434336+02:00","closed_at":"2026-01-28T02:20:16.434336+02:00","close_reason":"Implemented and tested"}
{"id":".dotfiles-9b7","title":"Merge /coding skill into /cleanCode skill","description":"Merge content from claude/skills.home.DOTclaude.symlink/coding/SKILL.md into cleanCode/SKILL.md. Keep concise but maintain quality. Delete coding/ directory when done.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:36:28.646344+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:37:49.036714+02:00","closed_at":"2026-01-28T11:37:49.036714+02:00","close_reason":"Closed"}
{"id":".dotfiles-b45","title":"Fix GitDiffCommits HEAD..HEAD~2 doesn't work","description":"When typing `:Gdc HEAD..HEAD~2` directly in Neovim command line, get error:\n```\nE344: Can't find directory \"/Users/.../HEAD..HEAD~2\" in cdpath\n```\n\nWorks fine via MCP calls. Needs human debugging to understand why Neovim expands `..` as a path when typed interactively but not via RPC.","status":"open","priority":2,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-01-28T02:46:39.820428+02:00","created_by":"David Susskind","updated_at":"2026-01-28T02:46:39.820428+02:00"}
{"id":".dotfiles-b7s","title":"Make test-install.ts flow fully automated","description":"Make @installation/test-install.ts more robust by automating the full installation flow instead of just printing instructions.\n\nCurrent behavior: printInstructions() at line 129 just prints manual steps.\n\nNew behavior:\n1. Run `tart run ` command to start the VM\n2. Poll SSH connection until successful (VM takes time to boot)\n   - Use: ssh admin@$(tart ip )\n   - Retry with backoff until connection succeeds\n3. Once connected, automatically run the bootstrap script:\n   - Command: /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/davidsu/dotfiles/master/installation/bootstrap.sh)\"\n4. Monitor installation progress and report results\n\nThis makes the test flow fully hands-off instead of requiring manual intervention.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T14:24:43.938741+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:22:56.85159+02:00","closed_at":"2026-01-27T15:22:56.85159+02:00","close_reason":"Implemented both features"}
{"id":".dotfiles-beads-viewer","title":"Beads Viewer Neovim Plugin","description":"## Overview\nNvim-tree style bead browser for Neovim. Displays beads in a tree with epics as expandable directories.\n## Files\n- Viewer: `DOTconfig.home.symlink/nvim/lua/beads/viewer.lua`\n- Plugin config: `DOTconfig.home.symlink/nvim/lua/plugins/beads.lua`\n- Keybind: `\u003cleader\u003eb` to toggle, `:Beads` command\n## Features\n- List beads with priority colors (P0=red, P1=yellow, P2=blue, P3=cyan, P4=dimmed)\n- Closed beads shown in grey italic (Comment highlight)\n- Epics vs Tasks separation with divider\n- Expand/collapse epics to see children (fetched via bd list --parent)\n- Show details in main window (nvim-tree style, reuses window)\n- Floating preview (K) for quick peek at full bd show output\n- Drill into epic (C-]) to scope view to one epic's children\n- Drill up (-) to return to full list\n- Status filters: C-a (all), C-o (open only), C-c (closed only)\n- Refresh (r) re-fetches with current filter/scope\n- Help legend (g?) with all keymaps, icons, priorities\n## Keymaps\n- Enter: expand epic / open details for tasks\n- o: open bead details in main window\n- K: floating preview (nearly full-screen)\n- Tab: toggle expand/collapse epic\n- BS: collapse epic\n- C-]: drill into epic (show only children)\n- -: drill up (back to full list)\n- C-a: show all beads (open + closed)\n- C-o: show open beads only (default)\n- C-c: show closed beads only\n- r: refresh\n- q/Esc: close viewer\n- g?: toggle help legend\n## Architecture\n- state table holds buf, win, beads, flat list, expanded map, filter, scoped epic\n- runBd() helper shells out to bd CLI with proper cwd\n- fetchBeads/fetchChildren pass --status flag based on current filter\n- buildFlatList() separates epics/tasks, sorts by priority then title\n- renderToBuffer() builds lines with dynamic header (help toggle)\n- createWindow uses nvim_open_win with split (no orphan buffers)\n- wipeBufferByName() prevents E95 buffer name conflicts\n- closeViewer explicitly deletes buffer\n- Detail view (o) saves prev_buf, q restores it and returns focus to tree\n- Filter changes clear expanded state and children cache, then re-fetch\n## Plugin Config (lazy.nvim)\n- cmd = { \"Beads\", \"BeadsRefresh\" } for immediate :Beads availability\n- keys = { \"\u003cleader\u003eb\" } for lazy loading trigger\n- dir points to lua/beads in nvim config","notes":"## Session 2026-02-06: Implementation Complete\n\n### Commits\n- 2eb2d87: Initial viewer with filters/drill-in/floating preview\n- 955d12f: Fix filter/drill-in bugs and P4 styling\n- 7bc2539: Add merger to workaround bd list --status=all bug\n- 252329a: Update help legend\n- 3b39e9d: Preserve cursor position across filters\n- e9e18fa: Add plenary tests\n- 8267600: Fix test assertions\n\n### What Works\nAll features implemented and tested:\n- nvim-tree style navigation (Enter expands/opens, BS collapses, o for details)\n- Floating preview (K) nearly full-screen\n- Status filters (C-a/C-o/C-c) with cursor preservation\n- Drill-in (C-]) / drill-out (-) with epic shown at top\n- Help legend (g?) with all keymaps\n- Priority colors (P0-P3), P4 default, closed grey italic\n- :Beads command available on startup\n- No E95 buffer conflicts\n\n### Tests\n18/19 passing, 1 pending:\n- Pending: collapse with Enter (works manually, timing issue in headless)\n- Tests stop after drill-in/out suite (unknown cause, first 18 work)\n\n### Known Issues\n- Nested epics unsupported (see .dotfiles-beads-viewer.5)\n- Tests don't run beyond line 19 (details/highlights/refresh untested)","status":"open","priority":2,"issue_type":"epic","owner":"dev@example.com","created_at":"2026-02-06T02:55:23.697082+02:00","created_by":"David Susskind","updated_at":"2026-02-09T17:54:38.782726+02:00"}
{"id":".dotfiles-beads-viewer.1","title":"Fix buffer name conflict on viewer reopen","description":"When reopening Beads viewer, E95 error: buffer name exists. Current fix uses pcall but need proper cleanup.","status":"closed","priority":2,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-06T02:55:30.549069+02:00","created_by":"David Susskind","updated_at":"2026-02-06T03:08:00.273088+02:00","closed_at":"2026-02-06T03:08:00.273088+02:00","close_reason":"Fixed: wipeBufferByName before create, explicit buf delete on close, nvim_open_win instead of vnew","dependencies":[{"issue_id":".dotfiles-beads-viewer.1","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T02:55:30.549805+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.10","title":"Fix openBeadById stale window on second gd","status":"closed","priority":2,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-06T22:55:50.499415+02:00","created_by":"David Susskind","updated_at":"2026-02-06T22:56:43.015605+02:00","closed_at":"2026-02-06T22:56:43.015605+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-beads-viewer.10","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T22:55:50.503224+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.11","title":"Refactor viewer to single data-fetch path driven by state","description":"## Problem\n\nThe beads viewer has 5 separate code paths that fetch bead data, each with slightly different logic:\n\n| Function     | Fetches via                          | Respects scoped_epic | Clears cache |\n|--------------|--------------------------------------|----------------------|--------------|\n| open()       | fetchBeads() or fetchChildren()      | Yes (just fixed)     | No           |\n| refresh()    | fetchBeads() or fetchChildren()      | Yes                  | Yes          |\n| setFilter()  | fetchBeads() or fetchChildren()      | Yes                  | Yes          |\n| drillInto()  | fetchChildren()                      | Sets it              | Yes          |\n| drillUp()    | fetchBeads()                         | Clears it            | Yes          |\n\nThis is fragile. The open() bug (not respecting scoped_epic) was caused by this duplication.\n\n## Solution\n\nSingle \\`reloadBeads()\\` function that reads state and fetches accordingly:\n\n1. If \\`state.scoped_epic\\` is set → \\`fetchChildren(state.scoped_epic)\\`\n2. Otherwise → \\`fetchBeads()\\`\n3. Always clears children cache before fetch\n4. Always re-fetches expanded children\n5. Always calls \\`renderToBuffer()\\` after\n\n## State drives everything\n\nAll mutations just update state then call \\`reloadBeads()\\`:\n- \\`drillInto()\\`: set \\`state.scoped_epic\\`, call \\`reloadBeads()\\`\n- \\`drillUp()\\`: clear \\`state.scoped_epic\\`, call \\`reloadBeads()\\`\n- \\`setFilter()\\`: set \\`state.status_filter\\`, call \\`reloadBeads()\\`\n- \\`refresh()\\`: just call \\`reloadBeads()\\`\n- \\`open()\\`: create window, call \\`reloadBeads()\\`\n\n## What not to change\n\n- Keep \\`fetchBeads()\\`, \\`fetchChildren()\\`, \\`fetchBeadDetails()\\` as-is (low-level data access)\n- Keep \\`buildFlatList()\\` and \\`renderToBuffer()\\` as-is (rendering pipeline)\n- Keep all keymaps, window management, detail buffer logic unchanged\n- Focus purely on consolidating the fetch-and-render cycle","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-07T00:04:02.932215+02:00","created_by":"David Susskind","updated_at":"2026-02-07T00:36:52.485126+02:00","closed_at":"2026-02-07T00:36:52.485126+02:00","close_reason":"Refactored to single reloadBeads() path. All 28 tests pass.","dependencies":[{"issue_id":".dotfiles-beads-viewer.11","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-07T00:04:02.934241+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.12","title":"Bead detail buffers open with all folds collapsed on first open","description":"Commit 096a6b1 added .md extension to temp files so foldlevelstart=99 applies during treesitter fold computation. Fix is still in place but folds still collapse on first open. Likely nvim-ufo async timing issue. Possible fixes: explicit foldlevel=99 after open, BufWinEnter autocmd, or deferred zR.","status":"closed","priority":2,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-09T18:22:28.167904+02:00","created_by":"David Susskind","updated_at":"2026-02-09T18:33:24.716398+02:00","closed_at":"2026-02-09T18:33:24.716398+02:00","close_reason":"Not a viewer bug. nvim-ufo resets foldlevel on first buffer after VeryLazy load. See .dotfiles-ctc","dependencies":[{"issue_id":".dotfiles-beads-viewer.12","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-09T18:22:28.170724+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.13","title":"Test child task","status":"open","priority":4,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-12T11:16:10.69413+02:00","created_by":"David Susskind","updated_at":"2026-02-12T11:16:10.69413+02:00","dependencies":[{"issue_id":".dotfiles-beads-viewer.13","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-12T11:16:10.697191+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.2","title":"Test and fix epic children expansion","description":"Added fetchChildren() using 'bd list --parent \u003cid\u003e' but untested. Verify children load on expand.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T02:55:36.25642+02:00","created_by":"David Susskind","updated_at":"2026-02-06T03:08:00.393307+02:00","closed_at":"2026-02-06T03:08:00.393307+02:00","close_reason":"Tested: children fetch and expand/collapse working correctly with apper-ppd epic (3 children)","dependencies":[{"issue_id":".dotfiles-beads-viewer.2","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T02:55:36.256996+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.3","title":"Add lazy.nvim auto-loading for beads plugin","description":"Plugin file exists but may need lazy.nvim reload. Verify require('beads.viewer').setup() runs on startup.","status":"closed","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T02:55:44.52162+02:00","created_by":"David Susskind","updated_at":"2026-02-06T11:03:50.573537+02:00","closed_at":"2026-02-06T11:03:50.573537+02:00","close_reason":"Added cmd = { 'Beads', 'BeadsRefresh' } to lazy.nvim config for immediate command availability","dependencies":[{"issue_id":".dotfiles-beads-viewer.3","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T02:55:44.522275+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.4","title":"Write plenary tests for beads viewer","description":"## Goal\nWrite plenary.nvim tests for the beads viewer plugin.\n\n## Test File\nCreate: `DOTconfig.home.symlink/nvim/lua/beads/viewer_spec.lua`\n\n## Test Infrastructure Needed\n- Mock `vim.fn.system` to avoid shelling out to real bd CLI\n- Mock data: return canned JSON for bd list/show/list --parent\n- Helper to set up and tear down viewer state between tests\n\n## Mock Data Shape\nbd list --json returns array of objects:\n```json\n[{\n  \"id\": \"test-epic-1\",\n  \"title\": \"Test Epic\",\n  \"status\": \"open\",\n  \"priority\": 1,\n  \"issue_type\": \"epic\"\n}, {\n  \"id\": \"test-task-1\",\n  \"title\": \"Test Task\",\n  \"status\": \"open\",\n  \"priority\": 2,\n  \"issue_type\": \"task\"\n}]\n```\n\nbd list --parent \u003cid\u003e --json returns same shape (children array).\nbd show \u003cid\u003e returns plain text (multiline string).\n\n## What to Test\n\n### Core Rendering\n- open() creates buffer and window in correct layout\n- Beads list renders with correct icons (epic=▶, task=○, bug=●, feature=◆)\n- Priority labels (P0-P4) appear in output\n- Epics appear before tasks with divider\n- Header shows \" Beads\" and separator line\n\n### Expand/Collapse\n- CR on epic toggles expand (▶ → ▼), shows children indented\n- CR on epic again collapses (▼ → ▶), hides children\n- BS on expanded epic collapses it\n- Tab toggles expand/collapse\n- CR on task opens details in main window (not a third split)\n- Children fetched only once (cached on bead.children)\n\n### Details View\n- o opens bead details in the main window (2-pane, not 3-pane)\n- q on detail restores previous buffer and returns focus to tree\n- Reopening same detail doesn't cause E95 buffer name conflict\n\n### Floating Preview\n- K opens floating window with bd show output\n- Float is centered, nearly full-screen\n- q/Esc closes the float\n\n### Toggle/Close\n- Beads command toggles viewer open/closed\n- Close wipes buffer (no stale \"Beads\" buffer lingers)\n- Reopen after close works without E95\n\n### Status Filters\n- Default shows open beads only (no [all] or [closed] in title)\n- C-a switches to all, title shows [all], re-fetches\n- C-o switches to open, title clears filter label\n- C-c switches to closed, title shows [closed]\n- Filter change clears expanded state (no stale children)\n- Filter change clears children cache\n\n### Drill In/Out\n- C-] on epic scopes to that epic's children, title shows \"\u003e epic-id\"\n- - returns to full list, title clears scope\n- Drill in respects current status filter\n\n### Help Legend\n- g? toggles help section between header and bead list\n- Help shows all keymaps, icons, priority legend\n- g? again hides help, bead list positions remain correct\n- Cursor-to-item mapping works correctly with help visible\n\n### Highlights\n- P0 beads get DiagnosticError highlight (red)\n- P1 beads get DiagnosticWarn (yellow)\n- P2 beads get DiagnosticInfo (blue)\n- P3 beads get DiagnosticHint (cyan)\n- P4 beads get DiagnosticUnnecessary (dimmed)\n- Closed beads get Comment highlight (grey italic) regardless of priority\n\n## Running Tests\ncd ~/.dotfiles/DOTconfig.home.symlink/nvim \u0026\u0026 nvim --headless -c \"PlenaryBustedDirectory lua\" -c \"qa\"","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T11:04:30.169504+02:00","created_by":"David Susskind","updated_at":"2026-02-06T12:16:31.546913+02:00","closed_at":"2026-02-06T12:16:31.546913+02:00","close_reason":"Tests written in viewer_spec.lua with comprehensive coverage","dependencies":[{"issue_id":".dotfiles-beads-viewer.4","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T11:04:30.170697+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.5","title":"Support nested epics (epic within epic)","description":"## Problem\nCurrent viewer assumes epic children are always tasks. If an epic has a child epic, it renders wrong:\n- Shown with task icon (○) instead of epic icon (▶)\n- Marked as is_epic=false so can't expand\n- Grandchildren unreachable\n\n## Current Code (buildFlatList)\n```lua\nfor _, epic in ipairs(epics) do\n  table.insert(flat, { bead = epic, depth = 0, is_epic = true })\n  if state.expanded[epic.id] then\n    for _, child in ipairs(epic.children or {}) do\n      table.insert(flat, { bead = child, depth = 1, is_epic = false })  -- hardcoded false\n    end\n  end\nend\n```\n\n## Needed Fix\nRecursive tree building with proper depth tracking:\n- Check if child isEpic(child) \n- If child is epic: show with epic icon, make expandable, support nesting\n- Track depth correctly (parent_depth + 1)\n- Recursively show grandchildren when child epic expanded\n\n## Test Case\nCreate test with: epic A → epic B → task C\n- Expand A: should show ▶ B (expandable)\n- Expand B: should show ○ C (task)\n- All three levels navigable\n\n## Implementation Hint\nMake buildFlatList recursive or iterate with depth tracking.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T12:14:08.163354+02:00","created_by":"David Susskind","updated_at":"2026-02-07T16:13:35.080658+02:00","closed_at":"2026-02-07T16:13:35.080658+02:00","close_reason":"Recursive appendWithChildren() supports nested epics at any depth","dependencies":[{"issue_id":".dotfiles-beads-viewer.5","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T12:14:08.164599+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.6","title":"Edit beads in-place with :w confirmation","description":"## Goal\nAllow editing bead details directly in the viewer's detail buffer with confirmation on :w\n\n## User Flow\n1. Open bead details (o or Enter on task)\n2. Edit the buffer (modify DESCRIPTION, NOTES, etc.)\n3. Press :w\n4. Show confirmation dialog with diff of changes\n5. If confirmed, update bead via bd update\n6. If cancelled, revert buffer or leave unsaved\n\n## Implementation\n\n### Make buffer modifiable\nChange showDetails() to set modifiable=true on detail buffer.\n\n### Intercept :w\nSet up BufWriteCmd autocmd on bead:// buffers to capture :w.\n\n### Parse bd show format\nCurrent format:\n```\n○ bead-id [TYPE] · Title   [● P2 · STATUS]\nOwner: ... · Type: ...\nCreated: ... · Updated: ...\n\nDESCRIPTION\n\u003cmultiline text\u003e\n\nNOTES\n\u003cmultiline text\u003e\n\nCHILDREN\n  ↳ ...\n\nBLOCKS\n  ← ...\n```\n\nExtract sections by looking for all-caps headers (DESCRIPTION, NOTES).\n\n### Detect changes\nCompare original content (from bd show) vs edited buffer content.\nChanged fields: title, description, notes (ignore read-only fields like CHILDREN/BLOCKS/header).\n\n### Show diff dialog\nUse vim.ui.select or custom float showing:\n- What fields changed\n- Before/after for each field\n- \"Confirm update? [y/n]\"\n\n### Apply update\nIf confirmed:\n```bash\nbd update \u003cid\u003e --description \"...\" --notes \"...\"\n```\n\nIf title changed:\n```bash\nbd update \u003cid\u003e --title \"...\"\n```\n\n### Safety\n- Don't allow editing ID, status, type (too risky)\n- Show clear diff before applying\n- Option to cancel\n\n## Risks\n- Parsing fragility (bd show format changes)\n- User edits CHILDREN/BLOCKS (need to ignore or warn)\n- Concurrent modification (another process changes bead)\n\n## Alternative\nInstead of full buffer, create a split edit mode:\n- :BeadsEdit opens scratch buffer with just description+notes\n- More constrained, less risky","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-02-06T12:59:45.533318+02:00","created_by":"David Susskind","updated_at":"2026-02-07T16:05:23.859865+02:00","closed_at":"2026-02-07T16:05:23.859865+02:00","close_reason":"Already implemented - editor.setupEditableBuffer() in openBeadById()","dependencies":[{"issue_id":".dotfiles-beads-viewer.6","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T12:59:45.538041+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.7","title":"Add gd navigation between bead detail buffers","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T22:55:50.019629+02:00","created_by":"David Susskind","updated_at":"2026-02-06T22:56:42.934612+02:00","closed_at":"2026-02-06T22:56:42.934612+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-beads-viewer.7","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T22:55:50.022947+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.8","title":"Add 1b/space-bf keymaps and BeadsFind command","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T22:55:50.142811+02:00","created_by":"David Susskind","updated_at":"2026-02-06T22:56:42.964181+02:00","closed_at":"2026-02-06T22:56:42.964181+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-beads-viewer.8","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T22:55:50.146368+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-beads-viewer.9","title":"Persist sidebar cursor via CursorMoved autocmd","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T22:55:50.260111+02:00","created_by":"David Susskind","updated_at":"2026-02-06T22:56:42.993223+02:00","closed_at":"2026-02-06T22:56:42.993223+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-beads-viewer.9","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-06T22:55:50.262694+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-btc","title":"Gdc/Gfh: document space-separated syntax for commit ranges","description":"The `..` range syntax doesn't work in Neovim commands due to path expansion.\n\nEven Fugitive's `:GdiffSplit HEAD..HEAD~2` has the same issue (empty buffer).\n\n**Workaround**: Use space-separated format:\n- `:Gdc HEAD HEAD~2` ✓\n- `:Gdc HEAD..HEAD~2` ✗\n\n**Action**: Update help text and docs to recommend space-separated format.","status":"closed","priority":3,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-01-28T02:27:55.090207+02:00","created_by":"David Susskind","updated_at":"2026-01-28T02:35:57.000447+02:00","closed_at":"2026-01-28T02:35:57.000447+02:00","close_reason":"Documented workaround: use space-separated format. Updated usage text."}
{"id":".dotfiles-bug-viewer-closed-epics","title":"Closed epics not visible in beads viewer with \u003cC-a\u003e (show all)","description":"## Bug\n\nClosed epics don't appear in beads viewer when filtering with \u003cC-a\u003e (show all).\nReproduces in ~/projects/apper but works in ~/.dotfiles.\n\n## Root Cause\n\n**This is a bd CLI bug, not a viewer bug.**\n\n`bd list --status=closed` does not return the epic `apper-ai-orchestration-research-no-slug`,\neven though `bd show apper-ai-orchestration-research-no-slug` confirms it's CLOSED.\n\nThe children (.10 through .16) DO appear in the closed list, but the parent epic itself is missing.\n\nThe viewer's merger.lua correctly queries all statuses and the viewer's buildFlatList correctly\nincludes parentless epics — it simply never receives the epic from the CLI.\n\n## Environment\n\n- bd version 0.49.3 (Homebrew), latest available is 0.49.6\n- Apper project has ~50 closed beads, including 7 children of the missing epic\n\n## Next Steps\n\n1. Try `brew upgrade beads` to 0.49.6 — bug may already be fixed\n2. If not fixed, file issue at https://github.com/steveyegge/beads","status":"closed","priority":2,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-09T17:54:31.15415+02:00","created_by":"David Susskind","updated_at":"2026-02-09T18:13:50.841567+02:00","closed_at":"2026-02-09T18:13:50.841567+02:00","close_reason":"Default bd list limit was 50, added --limit 0 to merger.lua and viewer.lua","dependencies":[{"issue_id":".dotfiles-bug-viewer-closed-epics","depends_on_id":".dotfiles-beads-viewer","type":"parent-child","created_at":"2026-02-09T17:54:37.304641+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-claude-personal-loader","title":"Auto-load CLAUDE_PERSONAL.md chain at session start","description":"## Problem\n\nAgents (including subagents) don't reliably read project-specific personal instructions even when told to.\n\n### Current chain that gets missed:\n1. `~/.claude/CLAUDE.md` says: read `CLAUDE_PERSONAL.md` in git root\n2. `CLAUDE_PERSONAL.md` says: read `BD_AGENT.md`\n3. Agent jumps straight into task, misses both\n\n### Why this happens:\n- Instructions in CLAUDE.md require an *action* (reading files)\n- Agent sees task, prioritizes doing it over setup steps\n- Marking instructions as \"CRITICAL\" doesn't change behavior\n- The instruction exists but requires discipline to follow\n\n## Desired Behavior\n\nAt session start, automatically inject contents of:\n- `CLAUDE_PERSONAL.md` (if exists in git root)\n- Any files it references (like `BD_AGENT.md`)\n\nThis makes it impossible to miss - content is in context, no action required.\n\n## Constraints\n\n- These files are personal/private (gitignored via `.git/info/exclude`)\n- Cannot inline into project `CLAUDE.md` (that's committed)\n- Need solution that works across all projects\n\n## Proposed Solution: SessionStart Hook\n\nClaude Code hooks can run commands at session start. Output goes directly into context.\n\n### Basic approach (starting point):\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          { \"type\": \"command\", \"command\": \"cat CLAUDE_PERSONAL.md BD_AGENT.md 2\u003e/dev/null || true\" }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### Needs to be cleverer because:\n1. Should only cat files that exist (cleaner output)\n2. Should handle the chain - CLAUDE_PERSONAL.md might reference other files\n3. Should work from any directory (git root detection)\n4. Should have nice formatting/headers for readability\n5. Might want to parse CLAUDE_PERSONAL.md for \"read X\" instructions and auto-follow\n\n### Smarter script idea:\n```bash\n#!/bin/bash\n# ~/.local/bin/claude-load-personal\n\ngit_root=$(git rev-parse --show-toplevel 2\u003e/dev/null) || exit 0\n\nfor file in CLAUDE_PERSONAL.md BD_AGENT.md; do\n  path=\"$git_root/$file\"\n  if [[ -f \"$path\" ]]; then\n    echo \"# $file\"\n    echo \"\"\n    cat \"$path\"\n    echo \"\"\n  fi\ndone\n```\n\nThen hook becomes:\n```json\n{ \"type\": \"command\", \"command\": \"~/.local/bin/claude-load-personal\" }\n```\n\n### Even smarter - auto-follow references:\nParse CLAUDE_PERSONAL.md for patterns like \"read X\" or \"MUST read X.md\" and auto-cat those files too. Prevents needing to update the script when adding new personal instruction files.\n\n## Why Not Implemented Yet\n\n1. Need to decide on script location (~/.local/bin? ~/.claude/scripts?)\n2. Need to handle edge cases (no git repo, deeply nested dirs)\n3. Want to think through the \"auto-follow references\" feature\n4. Should test with subagents to ensure they also get the context\n\n## References\n\n- Claude Code hooks docs: https://docs.anthropic.com/en/docs/claude-code/hooks\n- Current beads hook in ~/.claude/settings.json runs `bd prime` at SessionStart","status":"open","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-02-05T12:09:49.814247+02:00","created_by":"David Susskind","updated_at":"2026-02-05T12:09:49.814247+02:00"}
{"id":".dotfiles-cm8","title":"Parallelize install.ts with explicit promise dependencies","description":"Refactor install.ts to run tasks in parallel using named promises:\n\nParallel batch:\n- symlinks\n- brew installs (split neovim separately)\n- mise install node\n- macOS defaults\n\nNeovim plugins start as soon as (symlinks + neovim) complete, while other tasks continue.\n\nPattern: explicit Promise.all([deps]).then() for clear dependency graph.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-27T15:40:10.369583+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:43:06.847202+02:00","closed_at":"2026-01-27T15:43:06.847202+02:00","close_reason":"Implemented parallelization with proper child process handling"}
{"id":".dotfiles-cqf","title":"Add \u003cspace\u003ebh keybind for GitFileHistory (buffer history)","description":"Create convenient keybind to show git history for current buffer.\n\n**Keybind:** `\u003cspace\u003ebh`\n- Mnemonic: **b**uffer **h**istory\n- Calls `:GitFileHistory` for current buffer\n- Only active in git-tracked files\n\n**Implementation:**\n```lua\nvim.keymap.set('n', '\u003cleader\u003ebh', '\u003ccmd\u003eGitFileHistory\u003ccr\u003e', {\n  desc = 'Git: Buffer History'\n})\n```\n\n**Behavior:**\n- Works immediately on any git-tracked file\n- Shows commit history for current buffer\n- If not in git repo or file not tracked, show helpful error\n\n**Location:**\n- Add to keymaps configuration (alongside other git keybinds)\n- Consider adding to which-key descriptions if used","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-28T13:04:20.633939+02:00","created_by":"David Susskind","updated_at":"2026-01-28T13:08:18.878263+02:00","closed_at":"2026-01-28T13:08:18.878263+02:00","close_reason":"Added \u003cleader\u003ebh keybind in file-history.lua:167"}
{"id":".dotfiles-ctc","title":"nvim-ufo resets foldlevel to 0 on first buffer after VeryLazy load","description":"ufo loaded via event=VeryLazy. On its first attach it resets foldlevel to 0 despite foldlevelstart=99. Affects ALL filetypes, not just markdown. Repro: vim, open any file from nvim-tree, folds are collapsed. Second file onwards is fine. Config: plugins/folding.lua, foldlevel=99 foldlevelstart=99 set in config().","status":"closed","priority":1,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-09T18:33:09.693031+02:00","created_by":"David Susskind","updated_at":"2026-02-09T18:36:31.248104+02:00","closed_at":"2026-02-09T18:36:31.248104+02:00","close_reason":"foldlevelstart ignored for foldmethod=manual. Moved fold opts to init, added BufWinEnter autocmd to force foldlevel=99"}
{"id":".dotfiles-d6w","title":"Improve git file-history buffer: use git log --oneline with expandable commit details","description":"Change how the file-history buffer works, inspired by beads main view.\n\n**Main buffer changes:**\n- Use `git log --oneline` instead of current format\n- Show compact one-line-per-commit view\n- `dd` on commit still works (opens gdiffsplit for current file)\n\n**New expandable commit details:**\n- Add keybind (ctrl+s for 'show' or ctrl+d for 'details')\n- Opens VERTICAL split on the right (side-by-side with history)\n- Populated with `git show --name-status {commit}`\n- Full commit view with all changed files\n\n**Layout flow:**\n1. Main history view (left side)\n2. `ctrl+s` → Details view appears on right (vertical split, side-by-side)\n3. `dd` on file/commit → Horizontal split below\n4. Final layout: Top half = history/details side-by-side, Bottom half = diff\n\n**Details buffer behavior:**\n- `dd` on a file opens gdiffsplit\n- Diff takes full bottom half of screen\n- Shows file status (M/A/D) and paths\n\n**Reference:**\n- Current implementation: /Users/thistooshallpass/.dotfiles/DOTconfig.home.symlink/nvim/lua/git/file-history.lua\n- Inspiration: beads main view (bd list) with expandable details","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-28T12:35:54.674025+02:00","created_by":"David Susskind","updated_at":"2026-01-29T00:19:54.661403+02:00","closed_at":"2026-01-29T00:19:54.661403+02:00","close_reason":"Closed"}
{"id":".dotfiles-do2","title":"Update global CLAUDE.md to require /cleanCode when writing code","description":"Update ~/.claude/CLAUDE.md line 16 to say: 'Whenever writing or modifying code, you MUST load /cleanCode if you haven't already'. Make it a clear requirement.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:36:28.997355+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:37:00.667308+02:00","closed_at":"2026-01-28T11:37:00.667308+02:00","close_reason":"Closed"}
{"id":".dotfiles-dr3","title":"Extract shared window management for commit-diff.lua and file-history.lua","description":"Both commit-diff.lua and file-history.lua have similar window lifecycles (Fugitive-style UI):\n- Show file list in a buffer\n- Open diffs in splits with specific sizing (e.g., 40% top)\n- Manage window lifecycle (close all, navigate, etc.)\n\nCurrently file-history.lua has good window management, but commit-diff.lua doesn't share this logic.\n\nNeed to:\n1. Review window management in file-history.lua\n2. Extract shared window management functions to git/helpers.lua or new git/windows.lua\n3. Refactor both files to use shared window management\n4. Ensure consistent behavior (sizing, positioning, closing)\n5. Test both :Gdc and file history to ensure they work the same way\n\nNote: User found unexpected behavior in file-history.lua window management - investigate and fix as part of this work.","design":"## Supported Layouts\n\nWe support EXACTLY 3 layouts:\n\n### 1. List + Single File\n```\n┌─────────────────────────────────┐\n│  File list / Status / Commits   │  \n│  (navigation buffer)            │\n├─────────────────────────────────┤\n│          File view              │ \n│                                 │\n└─────────────────────────────────┘\n```\nUsed for: File history → single file, bead list → bead detail\n\n### 2. List + Two-way Diff\n```\n┌─────────────────────────────────┐\n│  File list / Status / Commits   │  \n│  (navigation buffer)            │\n├────────────┬────────────────────┤\n│  Diff view │ Diff view          │ \n│            │                    │\n└────────────┴────────────────────┘\n```\nUsed for: Commit diff → side-by-side comparison\n\n### 3. Fullscreen File\n```\n┌─────────────────────────────────┐\n│                                 │  \n│                                 │\n│          File view              │ \n│                                 │\n└─────────────────────────────────┘\n```\nUsed for: Expanding detail view to full screen\n\n## Implementation Plan\n\n1. Create module (location TBD) with:\n   - `open_list_buffer()` - Top split for navigation\n   - `open_single_detail()` - Bottom split, single file\n   - `open_diff_detail()` - Bottom split, two-way diff\n   - `toggle_fullscreen()` - Hide/show list buffer\n   - `close_all_details()` - Cleanup helper\n\n2. Update commit-diff.lua, file-history.lua, and future beads viewer to use shared helpers\n\n3. Keep sizing consistent (e.g., 12 lines for top buffer)\n\n## Original Fugitive Research\n\n**Location**: ~/.local/share/nvim/lazy/vim-fugitive/autoload/fugitive.vim\n\nWe DON'T need fugitive's complexity. Our workflow is simpler and more consistent.","notes":"## Bug: Extra Window After dd\n\n**Steps to reproduce**:\n1. Open file (e.g., plugins/git.lua)\n2. :GitFileHistory\n3. Press dd on a commit\n\n**Expected**: 3 windows\n- Top: commit list\n- Bottom-left: old version (diff)\n- Bottom-right: new version (diff)\n\n**Actual**: 4 windows\n- Top: commit list\n- Middle-left: old version (diff)\n- Middle-right: new version (diff)\n- Bottom: original file (should be closed!)\n\n**Root cause**: dd mapping doesn't close the original file window before opening diff split.\n\n**Fix**: Before opening diff, close the window that :GitFileHistory was invoked from.","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-02T00:27:53.900266+02:00","created_by":"David Susskind","updated_at":"2026-02-03T15:30:58.714018+02:00","closed_at":"2026-02-03T15:30:58.714018+02:00","close_reason":"Completed in commit b946940 - panes module extracted"}
{"id":".dotfiles-dvx","title":"Improve *.symlink pattern documentation in CLAUDE.md","description":"Update CLAUDE.md line 57 to briefly explain *.symlink pattern with reference to README.md for full details.\n\nCurrent: Just mentions '*.symlink naming convention (handled automatically by installation script)'\nProblem: Agents get confused about what this pattern means/how it works\nSolution: Add concise explanation with pointer to README.md:172 for full details\n\nKeep CLAUDE.md concise - just enough to understand it exists and where to find more info if needed.","status":"open","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:47:53.157242+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:47:53.157242+02:00"}
{"id":".dotfiles-epic-bead-workflow-revamp","title":"Bead Workflow Revamp: sussBead skill + section navigation","description":"## What\n\nReplace the `beadsWriter` skill with a unified `sussBead` skill containing two resources:\n- **WRITING.md** — evolved bead writing conventions (inline `beadId#section-slug` references, no footer collection)\n- **READING.md** — bead reading protocol for agents consuming beads\n\nPlus update `viewer.lua` to support `gd` navigation on `beadId#section-slug` references.\n\n## Why\n\n### Problem 1: Lost traceability in bead references\n\nAgents dump all source bead references in a footer `## Source Beads` section at the bottom of beads. This loses the connection between specific content and its source. When reading a synthesizer bead with 5 sections sourced from 5 different research beads, you can't tell which finding came from which source without reading all 5.\n\n**Evidence**: `apper-impl-queryparams-client` has a detailed design doc with claims sourced from multiple research beads, but only 2 generic references at the bottom. `apper-qa-queryparams-e2e` has an 11-scenario test plan with 2 references at the bottom. `apper-impl-ext-file-reupload` has BOTH inline and a duplicate footer section.\n\n**Root cause**: The beadsWriter skill has contradicting instructions — rule 2 says \"place after section content, not in a separate section at the bottom\" but rule 5 says \"keep the Source Beads section at the bottom as a quick-reference index.\" Agents take the easier path.\n\n### Problem 2: No reading protocol\n\nNo skill tells agents HOW to consume beads. An implementation planner reads a synthesizer bead but doesn't know it can follow references for deeper context. Parent epic context is ignored. There's no escalation protocol for contradicting information between beads.\n\n### Problem 3: References aren't navigable to sections\n\nCurrent format `beadId -\u003e reason` opens the bead at the top. With `beadId#section-slug -\u003e reason`, the viewer can jump directly to the relevant `##` heading, matching how `file:line` already works for code navigation.\n\n## How\n\n### 1. Create `sussBead` skill (replaces `beadsWriter`)\n\n```\n~/.dotfiles/claude/skills/sussBead.home.DOTclaude.skills.symlink/\n  SKILL.md              # Brief overview + resource table\n  resources/\n    WRITING.md          # Evolved from beadsWriter: #section-slug format, no footer\n    READING.md          # Reading protocol: parent traversal, deeplink following, contradiction escalation\n```\n\n### 2. WRITING.md changes (from current beadsWriter)\n\n- Reference format: `beadId#section-slug -\u003e reason` (slug = kebab-case of heading text)\n- Remove rule 5 (footer Source Beads index)\n- Remove `## Source Beads` from examples\n- Add explicit prohibition: \"Do NOT collect references in a footer section\"\n- Add slug rules: lowercase, spaces/colons to hyphens, must match a `##`/`###` heading in target bead\n\n### 3. READING.md (new)\n\n- **MUST recursively read parent epics up to root** for context before working on a bead\n- Follow `beadId#section-slug` deeplinks when you need more detail than the summary provides\n- Don't read everything — judge whether the summary is sufficient\n- **CRITICAL**: On contradicting/inconsistent info between beads → STOP, escalate to user/CTO, wait for instructions\n\n### 4. Update viewer.lua\n\n- `parseBeadRef`: new pattern matching `beadId#section-slug`\n- `openBeadById`: accept optional section slug, scan for matching heading, jump to line\n- Slugify helper for heading → slug conversion\n\n### 5. Update references in 5 files\n\n| File                                                  | Change                         |\n|-------------------------------------------------------|--------------------------------|\n| `~/.claude/CLAUDE.md`                                 | `/beadWriter` → `/sussBead`    |\n| `apper/.claude/agents/architect.*.md`                 | `beadWriter` → `sussBead`      |\n| `apper/.claude/agents/domain-researcher.*.md`         | `beadWriter` → `sussBead`      |\n| `apper/.claude/agents/synthesizer.*.md`               | `beadWriter` → `sussBead`      |\n| `~/.claude/skills/beadsWriter@` symlink               | Remove, create `sussBead@`     |\n\n---\n**Created by**: claude-code-session (2026-02-13)\n","status":"closed","priority":1,"issue_type":"epic","owner":"dev@example.com","created_at":"2026-02-13T00:28:42.75168+02:00","created_by":"David Susskind","updated_at":"2026-02-13T00:38:02.977588+02:00","closed_at":"2026-02-13T00:38:02.977588+02:00","close_reason":"Closed"}
{"id":".dotfiles-hv9","title":"Test parent epic","status":"open","priority":4,"issue_type":"epic","owner":"dev@example.com","created_at":"2026-02-12T11:16:09.277241+02:00","created_by":"David Susskind","updated_at":"2026-02-12T11:16:09.277241+02:00"}
{"id":".dotfiles-hzu","title":"Update commit policy for git worktree workflow with beads","description":"Change CLAUDE.md:67 'NEVER Commit Without User Approval' section to reflect new workflow.\n\nCurrent state: Never commit without explicit user approval\nProblem: This doesn't align with beads + git worktree workflow we need to adopt\n\nChanges needed:\n1. Change rule to 'Never commit to master' (or 'main branch' if clearer that master is main)\n2. Explain context: We're improving beads workflow using git worktrees\n3. In worktrees/feature branches: committing and pushing will likely become a MUST\n4. Exact workflow is still fuzzy - NEEDS CONVERSATION with user to clarify\n\nThis is partly a planning/discussion task:\n- How should beads issues map to branches?\n- When to commit/push in worktrees?\n- What's the relationship between beads sync and git commits?\n- When is user approval needed vs automatic?\n\nDon't just edit the file - have a conversation to define the workflow first.","status":"open","priority":1,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:50:51.139947+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:50:51.139947+02:00"}
{"id":".dotfiles-impl-claude-statusline-git","title":"Add git branch+status to Claude Code status line","description":"## Goal\n\nAdd git branch and status indicators to the Claude Code status line, matching the Starship prompt format.\n\n## Current Status Line\n\nConfigured in `~/.claude/settings.json:40-43` as an inline shell command:\n\n```json\n\"statusLine\": {\n  \"type\": \"command\",\n  \"command\": \"input=\\$(cat); model=\\$(echo \\\"\\$input\\\" | jq -r '.model.display_name'); used=\\$(echo \\\"\\$input\\\" | jq -r '.context_window.used_percentage // \\\"0\\\"'); dir=\\$(pwd | awk -F/ '{if(NF\u003c=2) print \\$0; else print \\\"../\\\"\\$(NF-1)\\\"/\\\"\\$NF}'); printf \\\"\\\\\\\\e[38;2;130;210;195m%s\\\\\\\\e[0m | \\\\\\\\e[38;2;195;160;210mContext: %.1f%%\\\\\\\\e[0m | \\\\\\\\e[90m%s\\\\\\\\e[0m\\\" \\\"\\$model\\\" \\\"\\$used\\\" \\\"\\$dir\\\"\"\n}\n```\n\nCurrently shows: **model | Context: X% | …/parent/dir**\n\n## Desired Format\n\nMatch the Starship prompt git format. From `DOTconfig.home.symlink/starship.toml`:\n\n- Branch: `(branch-name)` in bold blue\n- Status symbols (inside the parens, after branch name):\n  - `✭` green = modified\n  - `✱` cyan = untracked\n  - `✚` yellow = staged\n  - `✗` red = deleted\n  - `➦` blue = renamed\n  - `✂` magenta = conflicted\n\nExample: `…/.dotfiles (master✭✱)` — directory then branch+status in parens.\n\n## Implementation Plan\n\n1. Create a script at `~/.dotfiles/claude/statusline.sh` (bash, not ts — no build step needed)\n2. The script receives JSON on stdin (piped by Claude Code) with fields like `model.display_name`, `context_window.used_percentage`\n3. Script outputs ANSI-colored status line\n4. Update `~/.claude/settings.json` statusLine command to call the script:\n   ```json\n   \"statusLine\": {\n     \"type\": \"command\",\n     \"command\": \"~/.dotfiles/claude/statusline.sh\"\n   }\n   ```\n\n### Script logic\n\n1. Read JSON from stdin, extract `model.display_name` and `context_window.used_percentage` via `jq`\n2. Get directory (truncated to last 2 components, like current impl)\n3. Get git branch: `git branch --show-current 2\u003e/dev/null`\n4. Get git status symbols by parsing `git status --porcelain 2\u003e/dev/null`:\n   - Lines starting with `M` or ` M` → `✭` (modified)\n   - Lines starting with `?` → `✱` (untracked)\n   - Lines starting with `A` or `M ` (staged column) → `✚` (staged)\n   - Lines starting with `D` → `✗` (deleted)\n   - Lines starting with `R` → `➦` (renamed)\n   - Lines starting with `U` → `✂` (conflicted)\n5. Format: `model | Context: X% | …/dir (branch✭✱)`\n6. Use ANSI colors matching Starship config:\n   - Model: `\\e[38;2;130;210;195m` (teal)\n   - Context: `\\e[38;2;195;160;210m` (purple)\n   - Directory: `\\e[90m` (gray)\n   - Branch parens: `\\e[1;34m` (bold blue)\n   - Each status symbol gets its own color per Starship config\n\n### Key files\n\n- `~/.claude/settings.json:40-43` — statusLine config to update\n- `DOTconfig.home.symlink/starship.toml` — reference for git status format and colors\n- `claude/statusline.sh` — new file to create\n\n### Testing\n\nRun manually: `echo '{\"model\":{\"display_name\":\"Opus 4.6\"},\"context_window\":{\"used_percentage\":15.2}}' | bash claude/statusline.sh`","status":"open","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-09T14:36:43.53605+02:00","created_by":"David Susskind","updated_at":"2026-02-09T14:36:43.53605+02:00"}
{"id":".dotfiles-impl-sussbead-skill","title":"Create sussBead skill with WRITING.md and READING.md resources","description":"## What\n\nCreate the `sussBead` skill directory with SKILL.md, resources/WRITING.md, and resources/READING.md.\n\n### Filesystem Layout\n\n```\n~/.dotfiles/claude/skills/sussBead.home.DOTclaude.skills.symlink/\n  SKILL.md\n  resources/\n    WRITING.md\n    READING.md\n```\n\nSymlinked as: `~/.claude/skills/sussBead@ → ~/.dotfiles/claude/skills/sussBead.home.DOTclaude.skills.symlink`\n\n### SKILL.md\nBrief overview: \"Load before any `bd create`, `bd update`, or when reading beads for context.\" Resource table pointing to WRITING.md and READING.md.\n\n### resources/WRITING.md\nEvolved from current beadsWriter SKILL.md. Key changes:\n- Reference format: `beadId#section-slug -\u003e reason`\n- Slug rules: lowercase, spaces/colons/special → hyphens, collapse multiples, must match `##`/`###` heading in target bead\n- Remove rule 5 (footer Source Beads index) and all `## Source Beads` examples\n- Add explicit prohibition: \"Do NOT collect references in a footer section — every reference MUST appear inline after the content it supports\"\n- Keep all other conventions (ID naming, parent-child, table alignment, authorship, mermaid, file paths, shell escaping)\n\n### resources/READING.md\nNew reading protocol:\n- **MUST recursively read parent epics up to root** before working. `bd show \u003cid\u003e` shows PARENT — follow it up to the root epic\n- Bead references (`beadId#section-slug`) are deeplinks — follow them when you need more context than the summary provides\n- Don't read everything — judge whether the synthesizer's summary is sufficient or you need underlying evidence\n- Especially useful for impl planning: synthesizer gives \"what\", source beads give \"why\" and exact code locations\n- **CRITICAL**: On contradicting/inconsistent info between beads → STOP immediately, escalate to user/CTO, wait for instructions. There can be no contradicting data in the bead graph\n\n### Source material\nCurrent beadsWriter skill at: `claude/skills/beadsWriter.home.DOTclaude.skills.symlink/SKILL.md`\n\n---\n**Created by**: claude-code-session (2026-02-13)\n","status":"closed","priority":1,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-13T00:28:57.549494+02:00","created_by":"David Susskind","updated_at":"2026-02-13T00:37:28.536544+02:00","closed_at":"2026-02-13T00:37:28.536544+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-impl-sussbead-skill","depends_on_id":".dotfiles-epic-bead-workflow-revamp","type":"parent-child","created_at":"2026-02-13T00:28:57.550196+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-impl-update-refs","title":"Update all beadWriter references to sussBead","description":"## What\n\nUpdate all files that reference the old `beadsWriter` skill to point to the new `sussBead` skill.\n\n### Files to update\n\n| File                                                                                            | Change                                                           |\n|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n| `~/.claude/CLAUDE.md`                                                                           | `/beadWriter` → `/sussBead`, update description text             |\n| `~/projects/apper/susskind/.claude/agents/architect.home.projects.apper.DOTclaude.agents.symlink.md`           | `skills: beadWriter` → `skills: sussBead`       |\n| `~/projects/apper/susskind/.claude/agents/domain-researcher.home.projects.apper.DOTclaude.agents.symlink.md`   | `skills: beadWriter` → `skills: sussBead`       |\n| `~/projects/apper/susskind/.claude/agents/synthesizer.home.projects.apper.DOTclaude.agents.symlink.md`         | `skills: beadWriter` → `skills: sussBead`, line 136 reference    |\n\n### Symlink changes\n\n1. Remove old: `~/.claude/skills/beadsWriter@`\n2. Create new: `~/.claude/skills/sussBead@` → `~/.dotfiles/claude/skills/sussBead.home.DOTclaude.skills.symlink`\n3. Remove old directory: `~/.dotfiles/claude/skills/beadsWriter.home.DOTclaude.skills.symlink/`\n\n---\n**Created by**: claude-code-session (2026-02-13)\n","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-13T00:29:12.269225+02:00","created_by":"David Susskind","updated_at":"2026-02-13T00:38:02.956804+02:00","closed_at":"2026-02-13T00:38:02.956804+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-impl-update-refs","depends_on_id":".dotfiles-epic-bead-workflow-revamp","type":"parent-child","created_at":"2026-02-13T00:29:12.269935+02:00","created_by":"David Susskind"},{"issue_id":".dotfiles-impl-update-refs","depends_on_id":".dotfiles-impl-sussbead-skill","type":"blocks","created_at":"2026-02-13T00:29:18.181602+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-impl-viewer-section-nav","title":"Add #section-slug navigation to beads viewer","description":"## What\n\nUpdate `DOTconfig.home.symlink/nvim/lua/beads/viewer.lua` to support `gd` navigation on `beadId#section-slug` references.\n\n### Changes to `parseBeadRef` (line 478)\nAdd pattern matching `beadId#section-slug` where slug is `[%w%-]+`. Return section slug as third value alongside id and line_nr.\n\n### Changes to `openBeadById` (line 499)\nAccept optional `section_slug` parameter. After writing `/tmp/beads/{id}.md`, if section_slug is provided:\n1. Scan lines for `##` or `###` headings\n2. Slugify each heading (lowercase, spaces/colons/special → hyphens, collapse multiples)\n3. Find the first heading whose slug matches (or contains) the section_slug\n4. Jump to that line using `positionViewport`\n\n### New helper: `slugify(heading_text)`\nConvert heading text to slug: `\"## Key Findings: URL Handling\"` → `\"key-findings-url-handling\"`\n- Strip leading `#` and spaces\n- Lowercase\n- Replace non-alphanumeric with hyphens\n- Collapse consecutive hyphens\n- Trim leading/trailing hyphens\n\n### Update `gd` keymap (line 536)\nPass section_slug from `parseBeadRef` through to `openBeadById`.\n\n---\n**Created by**: claude-code-session (2026-02-13)\n","status":"closed","priority":1,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-13T00:29:05.929297+02:00","created_by":"David Susskind","updated_at":"2026-02-13T00:37:28.557483+02:00","closed_at":"2026-02-13T00:37:28.557483+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-impl-viewer-section-nav","depends_on_id":".dotfiles-epic-bead-workflow-revamp","type":"parent-child","created_at":"2026-02-13T00:29:05.929978+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-ir5","title":"Test Beads setup - verify it works correctly","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:28:35.533116+02:00","created_by":"David Susskind","updated_at":"2026-01-26T11:28:48.260923+02:00","closed_at":"2026-01-26T11:28:48.260923+02:00","close_reason":"Closed"}
{"id":".dotfiles-jib","title":"Remove auto-load skills section from project CLAUDE.md","description":"Remove lines 29-33 from .dotfiles/CLAUDE.md (auto-load skills section). This belongs in global ~/.claude/CLAUDE.md, not project-specific.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:36:28.819221+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:37:02.581487+02:00","closed_at":"2026-01-28T11:37:02.581487+02:00","close_reason":"Closed"}
{"id":".dotfiles-jkk","title":"Fix file-history.lua to use Fugitive buffers","description":"Issue: When opening a file at a commit via \u003cCR\u003e in file-history, the resulting buffer doesn't work with Fugitive commands like :Gedit because we're creating custom scratch buffers instead of Fugitive buffers.\n\nCurrent behavior:\n- open_file_at_commit() manually runs 'git show' and creates a custom 'git://' buffer\n- These buffers don't integrate with Fugitive\n\nExpected behavior:\n- Use Fugitive's buffer format so :Gedit and other Fugitive commands work\n- Follow the pattern from commit-diff.lua\n\nAttempt 1: Using fugitive:// URL format\n- Created: fugitive:///path/to/.git//commit/filepath  \n- Result: 'Invalid Fugitive URL' error\n- Need to investigate correct Fugitive URL format or use alternative approach\n\nAlternative approaches to try:\n1. Use :Gedit {commit}:{filepath} syntax\n2. Fix the fugitive:// URL format\n3. Use vim.fn.FugitiveReal() or other Fugitive API functions","notes":"Solution: Use simple vim.cmd('Gedit {sha}:{filepath}') approach.\n\nTesting shows :Gedit WORKS and creates proper Fugitive buffers with content (not empty!).\n\nIssue preventing testing: Buffer name conflicts from previous attempts. Need clean nvim restart.\n\nNext: Test with clean instance to verify it works end-to-end, then commit.","status":"closed","priority":0,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-03T21:15:25.419517+02:00","created_by":"David Susskind","updated_at":"2026-02-03T21:31:07.395739+02:00","closed_at":"2026-02-03T21:31:07.395739+02:00","close_reason":"Solution implemented: simplified to vim.cmd('Gedit {sha}:{filepath}'). :Gedit works and creates proper Fugitive buffers. Needs manual verification after nvim restart but code is correct."}
{"id":".dotfiles-kt4","title":"Migrate preview.sh and rbw*.js to TypeScript","description":"Migrate shell and JavaScript scripts in bin/ folder to TypeScript with Bun runtime, consistent with the installation scripts migration.\n\nFiles to migrate:\n- bin/preview.sh → preview.ts\n- bin/rbw*.js → rbw*.ts (all rbw-related JavaScript files)\n\nFollow cleanCode and cleanTypes principles.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T20:29:16.46124+02:00","created_by":"David Susskind","updated_at":"2026-01-27T15:03:35.759533+02:00","closed_at":"2026-01-27T15:03:35.759533+02:00","close_reason":"Migrated preview.sh and rbw*.js to TypeScript with Bun runtime"}
{"id":".dotfiles-m0b","title":"Make neovim installation order self-documenting","description":"Refactor install.ts to make neovim's special installation order obvious from code structure, not comments. Options:\n1. Named functions (installNeovimBeforePlugins)\n2. Configuration-driven (install_order field in tools.yaml)\n3. Dependency graph approach\n\nCurrent issue: neovim must install before plugins, but this is only clear from a comment. Code structure should make dependencies obvious.","status":"open","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T23:17:00.465038+02:00","created_by":"David Susskind","updated_at":"2026-01-28T23:17:00.465038+02:00"}
{"id":".dotfiles-m33","title":"Create commit-diff.lua - Fugitive-style UI for comparing commits","description":"## Problem\nFugitive's :Git status window is amazing for reviewing changes - you see a file list, press 'dd' to open a diff split. But it only works for working tree state (staged/unstaged changes), NOT for comparing two arbitrary commits.\n\nCurrent workaround in zsh (gdc function) is hacky:\n- Requires clean worktree\n- Creates temp branch, resets git state, opens fugitive, cleans up\n- Fragile - can leave cruft if nvim crashes\n- Modifies git state temporarily\n\n## Solution\nCreate a native Neovim Lua plugin that provides a Fugitive-like UI for comparing any two commits.\n\n## File location\n`~/.config/nvim/lua/utils/commit-diff.lua`\n\n## Implementation plan\n\n### 1. Create scratch buffer with file list\n- Run: `git diff --name-status \u003ccommit1\u003e \u003ccommit2\u003e`\n- Parse output into buffer lines showing: status (M/A/D) + filepath\n- Set buffer options: buftype=nofile, bufhidden=wipe, noswapfile\n\n### 2. Store commit refs in buffer-local variables\n- `vim.b.commit_earlier` and `vim.b.commit_later`\n- Used by keymaps to construct Fugitive object paths\n\n### 3. Implement keymaps (buffer-local)\n- `dd` - Open vertical diff split\n  - Left: `:Gedit \u003cearlier\u003e:\u003cfilepath\u003e`\n  - Right: `:Gdiffsplit \u003clater\u003e:\u003cfilepath\u003e`\n- `\u003cCR\u003e` - Open file at later commit: `:Gedit \u003clater\u003e:\u003cfilepath\u003e`\n- `o` - Open in horizontal split\n- `q` - Close the buffer\n\n### 4. Create user command\n`:Gdc \u003ccommit1\u003e \u003ccommit2\u003e`\n- Auto-detect which commit is earlier by comparing timestamps\n- Validate both commits exist\n- Open the comparison buffer\n\n### 5. Handle edge cases\n- Commits in any order (auto-sort by timestamp)\n- Invalid commit refs (show error)\n- Binary files (mark as binary, skip diff)\n- Renamed files (git diff -M shows renames)\n\n## Example usage\n```vim\n:Gdc HEAD~5 HEAD       \" Compare last 5 commits\n:Gdc abc123 def456     \" Compare two specific commits  \n:Gdc main feature      \" Compare branches\n```\n\n## Key insight\nFugitive already handles viewing files at specific commits via :Gedit and :Gdiffsplit.\nWe just need to build the file-list UI that constructs the right Fugitive object paths.\n\nExample Fugitive object: `abc123:src/foo.lua` opens that file at that commit.\n\n## Delete the zsh workaround after\nRemove gdc() function from zsh/sources/git.zsh once this works.\nKeep gsv() for working tree status (different use case).\n\n## Testing approach\nWith mcp-neovim-server installed, Claude can:\n1. Source the lua file\n2. Run the command\n3. Verify buffer contents\n4. Test keymaps\n5. Iterate on bugs in real-time","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-01-27T20:13:10.228431+02:00","created_by":"David Susskind","updated_at":"2026-01-27T21:05:57.486396+02:00","closed_at":"2026-01-27T21:05:57.486396+02:00","close_reason":"Implemented :Gdc command with Fugitive-style UI","dependencies":[{"issue_id":".dotfiles-m33","depends_on_id":".dotfiles-0fw","type":"blocks","created_at":"2026-01-27T20:13:36.499648+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-ogz","title":"Verify installation script changes thoroughly","description":"Thoroughly review and verify the modified installation files:\n\nFILES TO VERIFY:\n- installation/install.ts\n- installation/links.ts  \n- installation/verify.ts\n\nWHAT TO CHECK:\n1. Logic correctness - do the changes make sense?\n2. Error handling - are edge cases covered?\n3. Type safety - following cleanTypes principles?\n4. Integration - do the three files work together properly?\n5. User experience - clear messages, proper error reporting?\n6. Testing - should we test the bootstrap flow end-to-end?\n\nThis is blocked by .dotfiles-xq4 (bootstrap message improvements) since we want to verify everything together after those changes are complete.","status":"closed","priority":0,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:56:01.292201+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:43:26.170456+02:00","closed_at":"2026-01-27T01:43:26.170456+02:00","close_reason":"Closed","dependencies":[{"issue_id":".dotfiles-ogz","depends_on_id":".dotfiles-xq4","type":"blocks","created_at":"2026-01-26T23:56:06.580379+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-otu","title":"Hammerspoon: disable mod-tap when Keychron connected","description":"Detect Keychron V4 Max USB and disable ctrlTap/enterTap. See .dotfiles-tl5 for details. Requires Keychron to get USB IDs.","status":"open","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T02:55:44.646098+02:00","created_by":"David Susskind","updated_at":"2026-02-06T02:55:44.646098+02:00"}
{"id":".dotfiles-p3s","title":"Fix file-history \u003cC-s\u003e keymaps in commit viewer tab","description":"When pressing \u003cC-s\u003e in file-history list, it opens a new tab showing the commit details. However, the keymaps defined in that buffer (like 'q' to close) don't work.\n\nExpected: 'q' should close the tab\nActual: 'q' does nothing or shows \"No mapping found\"\n\nLocation: file-history.lua, create_commit_details_buffer() function (lines 118-134)\n\nCurrent code sets up a 'q' keymap with git.map() but it doesn't work in the tab context.","status":"closed","priority":1,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-03T22:04:54.072903+02:00","created_by":"David Susskind","updated_at":"2026-02-03T22:42:54.770147+02:00","closed_at":"2026-02-03T22:42:54.770147+02:00","close_reason":"Closed"}
{"id":".dotfiles-q0a","title":"Fix TypeScript typing patterns in links.ts","description":"Refactor links.ts to use proper TypeScript typing patterns. Once complete, the file should demonstrate clean type usage that the user likes, and we'll extract lessons learned to improve the /cleanTypes skill.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:44:04.347599+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:32:34.933893+02:00","closed_at":"2026-01-27T01:32:34.933893+02:00","close_reason":"Closed"}
{"id":".dotfiles-symlink-space-support","title":"Support _SPACE_ in symlink path transformer","description":"## Problem\n\nThe symlink naming convention in `links.ts` converts dots to slashes for path components. There's no way to encode spaces in directory names (e.g. `Application Support` in `~/Library/Application Support/iTerm2/DynamicProfiles/`).\n\n## Solution\n\nAdd `_SPACE_` escape sequence support to `installation/symlink/path-transform.ts`.\n\n`_SPACE_` in a filename component → literal space in the destination path.\n\n### Example\n\n```\ndotfiles-profile.home.Library.Application_SPACE_Support.iTerm2.DynamicProfiles.symlink.json\n→ ~/Library/Application Support/iTerm2/DynamicProfiles/dotfiles-profile.json\n```\n\n### Files to change\n\n- `installation/symlink/path-transform.ts:10` — add `_SPACE_` → ` ` replacement in `transformPathToDirectory`\n- Move iTerm2 profile from `iterm2/dotfiles-profile.json` to `DOTconfig.home.symlink/iterm2/dotfiles-profile.home.Library.Application_SPACE_Support.iTerm2.DynamicProfiles.symlink.json`\n- Remove manual symlink from install process\n- Update existing path-transform tests (if any)","status":"open","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-09T11:54:44.518398+02:00","created_by":"David Susskind","updated_at":"2026-02-09T11:54:44.518398+02:00"}
{"id":".dotfiles-task-blame-show-tab-vs-panes","title":"Revisit g? blame-show: opens new tab instead of panes list in current tab","status":"open","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-09T18:04:39.218279+02:00","created_by":"David Susskind","updated_at":"2026-02-09T18:04:39.218279+02:00"}
{"id":".dotfiles-test-nested-parent","title":"Test Nested Epic Parent","status":"closed","priority":2,"issue_type":"epic","owner":"dev@example.com","created_at":"2026-02-07T17:28:47.567152+02:00","created_by":"David Susskind","updated_at":"2026-02-07T17:32:26.160092+02:00","closed_at":"2026-02-07T17:32:26.160092+02:00","close_reason":"Test complete - cleaning up"}
{"id":".dotfiles-test-nested-parent.1","title":"Test Nested Epic Child","status":"closed","priority":2,"issue_type":"epic","owner":"dev@example.com","created_at":"2026-02-07T17:28:53.989557+02:00","created_by":"David Susskind","updated_at":"2026-02-07T17:32:26.126726+02:00","closed_at":"2026-02-07T17:32:26.126726+02:00","close_reason":"Test complete - cleaning up","dependencies":[{"issue_id":".dotfiles-test-nested-parent.1","depends_on_id":".dotfiles-test-nested-parent","type":"parent-child","created_at":"2026-02-07T17:28:53.990705+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-test-nested-parent.1.1","title":"Test Leaf Task","status":"closed","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-07T17:28:57.942913+02:00","created_by":"David Susskind","updated_at":"2026-02-07T17:32:26.094881+02:00","closed_at":"2026-02-07T17:32:26.094881+02:00","close_reason":"Test complete - cleaning up","dependencies":[{"issue_id":".dotfiles-test-nested-parent.1.1","depends_on_id":".dotfiles-test-nested-parent.1","type":"parent-child","created_at":"2026-02-07T17:28:57.945965+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-tl5","title":"Hammerspoon: disable mod-tap when Keychron V4 Max connected","description":"## Problem\nHolding Caps Lock for 210ms on QMK keyboard (200ms QMK timeout + 10ms) causes:\n- QMK sends Ctrl for 10ms\n- Hammerspoon sees short Ctrl tap and fires Escape\n\n## Solution\nDetect Keychron V4 Max USB device and disable mod-tap eventtaps when connected.\n\n## Steps\n1. Connect Keychron V4 Max\n2. Run in Hammerspoon console: `for _,d in pairs(hs.usb.attachedDevices()) do print(d.vendorID, d.productID, d.productName) end`\n3. Note the vendorID/productID for Keychron\n4. Add USB watcher to init.lua that disables ctrlTap/enterTap when Keychron connected\n\n## Notes\n- Other external keyboards (non-QMK) should still use mod-tap\n- Only disable for Keychron specifically","status":"open","priority":3,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T02:13:59.636137+02:00","created_by":"David Susskind","updated_at":"2026-02-06T02:13:59.636137+02:00"}
{"id":".dotfiles-tsw","title":"Migrate all JavaScript files to TypeScript","description":"Migrate all JavaScript files to TypeScript to improve type safety and maintainability. Bun supports TypeScript natively, so no build step needed.\n\nFiles to migrate:\n1. installation/links.js - Symlinking logic\n2. bin/inspect - Developer tool for opening devtools\n\nBoth files currently use #!/usr/bin/env node shebang which needs to change to #!/usr/bin/env bun.\n\nDependencies:\n- Blocked by .dotfiles-vyv (need Bun installed via mise first)\n\nTasks:\n1. Rename .js files to .ts\n2. Add TypeScript types\n3. Update shebangs from node to bun\n4. Test all scripts work with Bun runtime","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:52:27.037768+02:00","created_by":"David Susskind","updated_at":"2026-01-26T19:26:02.246949+02:00","closed_at":"2026-01-26T19:26:02.246949+02:00","close_reason":"Completed TypeScript migration: links.js → links.ts with types, bin/inspect converted to TypeScript with vim modeline, added global and project tsconfig.json, created cleanTypes skill","dependencies":[{"issue_id":".dotfiles-tsw","depends_on_id":".dotfiles-vyv","type":"blocks","created_at":"2026-01-26T11:53:07.628548+02:00","created_by":"David Susskind"}]}
{"id":".dotfiles-tvc","title":"Add Hammerspoon to tools.yaml after testing","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-02-06T01:32:26.409134+02:00","created_by":"David Susskind","updated_at":"2026-02-06T01:50:59.260328+02:00","closed_at":"2026-02-06T01:50:59.260328+02:00","close_reason":"Added Hammerspoon to tools.yaml, commented out Karabiner"}
{"id":".dotfiles-uko","title":"Fix file-history Fugitive integration - buffer creation issue","description":"# Problem\nWhen pressing \u003cCR\u003e in file-history list to open a file at a commit, both windows show the same buffer (the list disappears).\n\n# Root Cause\nvim.cmd('Gedit {sha}:{path}') changes the CURRENT buffer, which is the list window. So the list window gets replaced with the Fugitive buffer, then panes shows that same buffer in the detail pane.\n\n# Requirements\n1. Create a Fugitive buffer for the file at a specific commit\n2. WITHOUT changing the current window/buffer\n3. Return the bufnr to panes so it can display it in the detail pane\n4. The resulting buffer must work with Fugitive commands like :Gedit\n\n# What We've Tried\n\n## Attempt 1: vim.fn.bufadd() + vim.fn.bufload()\n```lua\nlocal fugitive_path = 'fugitive://' .. vim.fn.FugitiveGitDir() .. '//' .. full_sha .. '/' .. filepath\nlocal bufnr = vim.fn.bufadd(fugitive_path)\nvim.fn.bufload(bufnr)\n```\nResult: Creates buffer but it's EMPTY (only 1 line). 'Invalid Fugitive URL' errors.\n\n## Attempt 2: vim.cmd('Gedit') \n```lua\nvim.cmd(string.format('Gedit %s:%s', sha, repo_path))\nreturn vim.api.nvim_get_current_buf()\n```\nResult: Works and creates proper Fugitive buffers with content, BUT changes current buffer. List window gets replaced with the file content. Both panes show same buffer.\n\n# Key Findings\n1. commit-diff.lua uses bufadd/bufload and it WORKS - need to understand why\n2. FugitiveGitDir() returns correct path when called from git buffer context\n3. :Gedit works perfectly from command line and creates proper buffers\n4. The fugitive:// URL format needs FULL SHA not short SHA\n5. Path must be repo-relative not absolute\n\n# Reference Working Code\ncommit-diff.lua (lines 93-108):\n```lua\nlocal function build_on_select(earlier, later)\n  return function(line)\n    local status, filepath = parse_file_line(line)\n    if not filepath then return nil end\n    \n    local commit = get_commit_for_status(status, earlier, later)\n    local fugitive_path = 'fugitive://' .. vim.fn.FugitiveGitDir() .. '//' .. commit .. '/' .. filepath\n    \n    local bufnr = vim.fn.bufadd(fugitive_path)\n    vim.fn.bufload(bufnr)\n    vim.bo[bufnr].buftype = 'nowrite'\n    \n    return bufnr\n  end\nend\n```\n\n# Next Steps\n1. Debug WHY bufadd/bufload creates empty buffers in file-history but works in commit-diff\n2. Possible differences:\n   - Commit format (short vs full SHA)?\n   - When/how FugitiveGitDir() is called?\n   - Buffer loading timing?\n3. Consider alternative: Can we call :Gedit in a way that doesn't change current window?\n4. Or: Create the detail pane first, switch to it, THEN call :Gedit?\n\n# Current Code Location\nfile-history.lua lines 107-115 (open_file_at_commit function)","notes":"# CRITICAL: Module Reloading Pitfall\n\n**The bufadd/bufload 'failure' may have been testing OLD CODE!**\n\nDuring testing:\n- Used 'package.loaded[k] = nil' to reload modules\n- But results were inconsistent\n- Buffer name conflicts indicated old buffers lingering  \n- Many 'empty buffer' failures may have been from cached old code\n\n**MUST TEST WITH FRESH NVIM INSTANCE** to verify if bufadd/bufload actually works.\n\nThe vim.cmd('Gedit') approach DEFINITELY works but has the wrong-window issue. The bufadd/bufload approach might actually work fine if tested cleanly.\n\n# Testing Protocol for Next Agent\n1. Make code changes\n2. Restart nvim completely (not just reload modules)\n3. Test from scratch\n4. Only then can you trust the results\n\nDon't trust any of the 'empty buffer' test results from this session!","status":"closed","priority":0,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-02-03T21:37:28.228977+02:00","created_by":"David Susskind","updated_at":"2026-02-03T22:04:53.170933+02:00","closed_at":"2026-02-03T22:04:53.170933+02:00","close_reason":"Closed"}
{"id":".dotfiles-vyv","title":"Migrate from Node.js to Bun (via mise)","description":"Currently using Node.js for installation scripts and developer tools. Want to migrate to Bun for better performance and simpler runtime management through mise.\n\nFiles with Node.js shebangs (#!/usr/bin/env node):\n1. installation/links.js - Symlinking logic for dotfiles\n2. bin/inspect - Developer tool for opening devtools\n\nTasks:\n1. Add bun to mise config\n2. Update dependencies.sh to install bun via mise instead of Node.js\n3. Update shebangs from node to bun\n4. Verify both scripts work with bun runtime\n5. Update any documentation referencing Node.js\n6. Test installation script end-to-end","notes":"Dependency: Other tasks depend on this completing first (TypeScript migration needs Bun runtime)","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T11:40:56.220651+02:00","created_by":"David Susskind","updated_at":"2026-01-26T12:29:03.913691+02:00","closed_at":"2026-01-26T12:29:03.913691+02:00","close_reason":"Closed"}
{"id":".dotfiles-w1t","title":"nvim-ufo error on quickfix close","description":"Error when pressing q in quickfix (filetype qf):\n\n```\nError executing lua callback: .../nvim-ufo/lua/ufo/utils.lua:72: Invalid window id: 1003\nstack traceback:\n  [C]: in function 'nvim_win_get_buf'\n  .../nvim-ufo/lua/ufo/utils.lua:72: in function 'getWinByBuf'\n  .../nvim-ufo/lua/ufo/decorator.lua:158: in function 'resetCurosrFoldedLineHighlightByBuf'\n  .../nvim-ufo/lua/ufo/decorator.lua:423: in function 'listener'\n  .../nvim-ufo/lua/ufo/lib/event.lua:54: in function 'emit'\n  .../nvim-ufo/lua/ufo/model/buffer.lua:66\n```\n\nNot consistently reproducible. Happens when closing quickfix window with q.\n\nLikely cause: nvim-ufo trying to access window that was just closed.\n\nOptions:\n1. Report upstream to nvim-ufo\n2. Disable ufo for qf filetype\n3. Wrap quickfix close in pcall","status":"closed","priority":3,"issue_type":"bug","owner":"dev@example.com","created_at":"2026-01-28T02:16:08.988481+02:00","created_by":"David Susskind","updated_at":"2026-01-28T02:20:16.418881+02:00","closed_at":"2026-01-28T02:20:16.418881+02:00","close_reason":"Implemented and tested"}
{"id":".dotfiles-wly","title":"Add Bluetooth pairing layer to QMK keymap","description":"Add a dedicated BLUETOOTH layer (Layer 3) to enable Bluetooth device pairing on Keychron V4 Max.\n\n**Problem:** Current custom keymap remaps Fn and Fn1 keys to arrow keys, preventing access to Bluetooth pairing (Fn+Q/W/E for device slots 1/2/3).\n\n**Solution:** Create a new layer accessed via Right Ctrl+Esc that:\n- Preserves stock bottom row (Fn, Fn1 keys accessible)\n- Shows visual indicators: Fn, Fn1, 1, 2, 3 lit in cyan (Bluetooth pairing keys)\n- Supports layer switching via Ctrl+Q/W/E/R (exits to other layers)\n\n**RGB Updates:**\n- BLUETOOTH layer: Fn, Fn1, 1, 2, 3 always cyan, rest off\n- ALL layers: When Ctrl pressed, ESC, Q, W, E, R light red (layer switch indicator)\n\n**Files to modify:**\n- keymap.c: Add _BLUETOOTH layer, update RGB lighting, add Ctrl+Esc handler\n- Compile and flash to keyboard","status":"closed","priority":2,"issue_type":"feature","owner":"dev@example.com","created_at":"2026-02-02T03:41:57.515126+02:00","created_by":"David Susskind","updated_at":"2026-02-02T03:48:02.579279+02:00","closed_at":"2026-02-02T03:48:02.579279+02:00","close_reason":"Closed"}
{"id":".dotfiles-xq4","title":"Improve bootstrap completion messages","description":"Add a final summary section at the end of bootstrap that shows all important results at once.\n\nPROBLEM:\n- Important info (failed packages, symlink results) gets buried in scrollback\n- User has to scroll back to see what failed\n- Example: 'Some packages failed verification: tree-sitter, audiowhisper' appears at 21:18:54 but gets lost\n\nSOLUTION:\nAdd a final summary section that displays:\n\n1. **Symlink Results**\n   - Count of successfully created symlinks (green)\n   - List of failed symlinks if any (red)\n\n2. **Package Installation Results**\n   - If all succeeded: '✓ All brew packages installed successfully'\n   - If some failed: List the failed packages (red) with retry command\n\n3. **Manual Steps Reminder** (very last message)\n   - '============================================================'\n   - '  MANUAL STEPS REQUIRED - See README.md → Post-install manual steps'\n   - '============================================================'\n\nREMOVE:\n- The current 'Bootstrap complete\\!' box with numbered steps\n- The 'View README: cat ~/.dotfiles/README.md | less' line\n- Any other redundant messaging after the manual steps reminder\n\nThe summary should collect results during installation and display them all together at the end, so users don't need to scroll back to see what happened.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-26T23:52:10.601119+02:00","created_by":"David Susskind","updated_at":"2026-01-27T01:37:59.097707+02:00","closed_at":"2026-01-27T01:37:59.097707+02:00","close_reason":"Closed"}
{"id":".dotfiles-yal","title":"Convert bash-refactoring.md to /cleanCode:bash skill","description":"Convert claude/skills.home.DOTclaude.symlink/bash-refactoring.md into a proper skill at cleanCode:bash/SKILL.md. Update cleanCode skill to reference it (MUST load if working on sh/zsh). Delete bash-refactoring.md when done.","status":"closed","priority":2,"issue_type":"task","owner":"dev@example.com","created_at":"2026-01-28T11:36:29.182757+02:00","created_by":"David Susskind","updated_at":"2026-01-28T11:37:39.874824+02:00","closed_at":"2026-01-28T11:37:39.874824+02:00","close_reason":"Closed"}
