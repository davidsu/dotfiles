---
description: Core principles, working methods, and sanity rules for the dotfiles project.
globs: **/*
---

# Project Core Rules

## Foundational Reading
ALWAYS begin by thoroughly reading `planning.md` - it contains the complete technical specification, architecture decisions, and project requirements that govern all implementation work.

If `.development-notes.md` exists in the project root, read it immediately after `planning.md` to understand current development context and priorities.

## Working Principles
- **Discussion First**: Analyze requirements, propose approaches, explain alternatives and trade-offs before implementing any code
- **Explicit User Approval**: Distinguish between questions and action requests
  - **Questions** (answer only, no action): "How do I...", "What is...", "Why does...", "Should I...", "Would it be better to..."
  - **Direct commands** (proceed immediately): "Do X", "Implement Y", "Change A to B", "Fix this", "Add feature Z"
  - **When in doubt**: Ask clarifying questions rather than making changes
  - For exploratory or ambiguous requests, discuss options and wait for explicit "go ahead" or action command
- **Commit Protocol**: 
  - **Default workflow**: Make changes → User verifies it works → User explicitly requests commit
  - NEVER `git add` or `git commit` unless user explicitly requests it with commands like "commit this", "commit changes", "apply and commit"
  - When changes are complete, inform user they can test/verify, then commit when ready
  - Only proceed directly to commit if user's command explicitly includes commit intent
- **Performance Consciousness**: Always evaluate and optimize for startup time, load time, and resource efficiency
- **Always DRY**: Prioritize code reuse and modularity to maintain a clean, non-redundant codebase

## Communication Standards
- **Practical Focus**: Emphasize actionable implementation steps and real-world usage patterns
- **Reasoning Transparency**: Clearly explain decision rationales and alternative options considered
- **Iterative Development**: Build incrementally with integrated validation at each step

## Quality Assurance Framework
"Testing" encompasses comprehensive verification:
- **Unit Level**: Individual tool installation and basic functionality validation
- **Integration Level**: Cross-tool compatibility and combined workflow verification
- **Performance Level**: Startup time, responsiveness, and resource usage benchmarking
- **End-to-End Level**: Complete workflow execution and user experience validation

## Additional Sanity Rules
1. **Verify Information**: Always verify information before presenting it. Do not make assumptions or speculate without clear evidence.
2. **File-by-File Changes**: Make changes file by file and give me a chance to spot mistakes.
3. **No Apologies**: Never use apologies.
4. **No Understanding Feedback**: Avoid giving feedback about understanding in comments or documentation.
5. **No Whitespace Suggestions**: Don't suggest whitespace changes.
6. **No Summaries**: Don't summarize changes made.
7. **No Inventions**: Don't invent changes other than what's explicitly requested.
8. **No Unnecessary Confirmations**: Don't ask for confirmation of information already provided in the context.
9. **Preserve Existing Code**: Don't remove unrelated code or functionalities. Pay attention to preserving existing structures.
10. **Single Chunk Edits**: Provide all edits in a single chunk instead of multiple-step instructions or explanations for the same file.
11. **No Implementation Checks**: Don't ask the user to verify implementations that are visible in the provided context.
12. **No Unnecessary Updates**: Don't suggest updates or changes to files when there are no actual modifications needed.
13. **Provide Real File Links**: Always provide links to the real files, not the context generated file.
14. **No Current Implementation**: Don't show or discuss the current implementation unless specifically requested.
15. **Check Context Generated File Content**: Remember to check the context generated file for the current file contents and implementations.
16. **Use Explicit Variable Names**: Prefer descriptive, explicit variable names over short, ambiguous ones to enhance code readability.
17. **Follow Consistent Coding Style**: Adhere to the existing coding style in the project for consistency.
18. **Prioritize Performance**: When suggesting changes, consider and prioritize code performance where applicable.
19. **Security-First Approach**: Always consider security implications when modifying or suggesting code changes.
20. **No guessing**: always ask for clarifying questions if unclear how to proceed/implement something
21. **Error Handling**: Implement robust error handling and logging where necessary.
22. **Modular Design**: Encourage modular design principles to improve code maintainability and reusability.
23. **Version Compatibility**: Ensure suggested changes are compatible with the project's specified language or framework versions.
24. **Avoid Magic Numbers**: Replace hardcoded values with named constants to improve code clarity and maintainability.
25. **Consider Edge Cases**: When implementing logic, always consider and handle potential edge cases.
